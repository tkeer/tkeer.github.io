"use strict";(self.webpackChunkeshop=self.webpackChunkeshop||[]).push([["default-src_app_standalone_components_product-thumbnail_product-thumbnail_component_ts"],{2261:(m,l,a)=>{a.d(l,{o:()=>t});var t=function(p){return p.list="list",p.grid="grid",p}(t||{})},639:(m,l,a)=>{a.d(l,{n:()=>J});var t=a(4438),p=a(155),g=a(1482),f=a(6977),h=a(980),b=a(2261),v=a(4710),T=a(1439),s=a(177),C=a(3530),P=a(9146),w=a(4738),E=a(9213),u=a(1780),M=a(6042),I=a(9636);const O=["*"],x=(e,i)=>[e,i],_=e=>({eshopUrl:e});function D(e,i){if(1&e&&(t.j41(0,"video",21),t.nrm(1,"source",22),t.nI1(2,"resourceUrl"),t.k0s()),2&e){const n=t.XpG(2);t.R7$(),t.Y8G("src",t.bMT(2,1,null==n.product.images||null==n.product.images[0]?null:n.product.images[0].url),t.B4B)}}function R(e,i){if(1&e){const n=t.RV6();t.j41(0,"a",23),t.nI1(1,"encodeURIComponent"),t.bIt("click",function(o){t.eBV(n);const c=t.XpG(2);return t.Njj(c.gotoEshopProduct(o))}),t.nrm(2,"img",24),t.nI1(3,"resourceUrl"),t.k0s()}if(2&e){const n=t.XpG(2);t.Y8G("routerLink",n.product.eshopUrl?null:"/product/"+t.bMT(1,3,n.product.seo.metaUrl)+"/"+n.product.randomProductId),t.R7$(2),t.Y8G("src",t.i5U(3,5,null==n.product.images||null==n.product.images[0]?null:n.product.images[0].url,t.eq3(8,_,n.product.eshopUrl)),t.B4B)("alt",n.product.name)}}function y(e,i){if(1&e&&(t.j41(0,"div",19),t.DNE(1,D,3,3,"video",20)(2,R,4,10,"ng-template",null,4,t.C5r),t.k0s()),2&e){const n=t.sdS(3),r=t.XpG();t.R7$(),t.Y8G("ngIf",(null==r.product.images||null==r.product.images[0]?null:r.product.images[0].type)===r.MediaType.VIDEO)("ngIfElse",n)}}function j(e,i){1&e&&t.eu8(0)}function k(e,i){if(1&e&&(t.j41(0,"div",25),t.DNE(1,j,1,0,"ng-container",26),t.k0s()),2&e){t.XpG();const n=t.sdS(23);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function G(e,i){if(1&e&&(t.j41(0,"span",27),t.nrm(1,"app-price",28),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.Y8G("lineThrough",!0)("amount",n.product.price.priceWithoutDiscountWithVat)}}function B(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o._addToCart(o.product))}),t.j41(1,"mat-icon",30),t.EFF(2,"shopping_cart"),t.k0s(),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}if(2&e){const n=t.XpG();t.HbH("grid"===n.viewType?"w-100":""),t.Y8G("appLoading",n.loading.cart||n.loading.cartPopup)("disabled",(null==n.product.stockType?null:n.product.stockType.notAvailable)||(null==n.product.stockType?null:n.product.stockType.visibleNotBuyable)),t.R7$(4),t.SpI(" ",t.bMT(5,5,"add_cart")," ")}}function U(e,i){if(1&e){const n=t.RV6();t.j41(0,"button",31),t.nI1(1,"encodeURIComponent"),t.bIt("click",function(o){t.eBV(n);const c=t.XpG();return t.Njj(c.gotoEshopProduct(o))}),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&e){const n=t.XpG();t.HbH("grid"===n.viewType?"w-100":""),t.Y8G("routerLink",n.product.eshopUrl?null:"/product/"+t.bMT(1,4,n.product.seo.metaUrl)+"/"+n.product.randomProductId),t.R7$(2),t.SpI(" ",t.bMT(3,6,"product_thumbnail.see_detail")," ")}}function F(e,i){1&e&&t.eu8(0)}function $(e,i){if(1&e&&(t.j41(0,"div",32),t.DNE(1,F,1,0,"ng-container",26),t.k0s()),2&e){t.XpG();const n=t.sdS(21);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function L(e,i){1&e&&t.eu8(0)}function Y(e,i){if(1&e&&(t.j41(0,"div",32),t.DNE(1,L,1,0,"ng-container",26),t.k0s()),2&e){t.XpG(3);const n=t.sdS(21);t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function N(e,i){if(1&e&&(t.j41(0,"video",39),t.nrm(1,"source",22),t.nI1(2,"resourceUrl"),t.k0s()),2&e){const n=t.XpG(3);t.R7$(),t.Y8G("src",t.bMT(2,1,null==n.product.images||null==n.product.images[0]?null:n.product.images[0].url),t.B4B)}}function X(e,i){if(1&e&&(t.nrm(0,"img",40),t.nI1(1,"resourceUrl")),2&e){const n=t.XpG(3);t.Y8G("src",t.i5U(1,2,null==n.product.images||null==n.product.images[0]?null:n.product.images[0].url,t.eq3(5,_,n.product.eshopUrl)),t.B4B)("alt",n.product.name)}}function W(e,i){1&e&&t.eu8(0)}function S(e,i){if(1&e){const n=t.RV6();t.j41(0,"a",34),t.nI1(1,"encodeURIComponent"),t.bIt("click",function(o){t.eBV(n);const c=t.XpG(2);return t.Njj(c.gotoEshopProduct(o))}),t.j41(2,"div",35),t.nrm(3,"div",36),t.DNE(4,Y,2,1,"div",18),t.k0s(),t.j41(5,"div"),t.DNE(6,N,3,3,"video",37)(7,X,2,7,"ng-template",null,5,t.C5r),t.k0s(),t.j41(9,"div",38),t.DNE(10,W,1,0,"ng-container",26),t.k0s()()}if(2&e){const n=t.sdS(8),r=t.XpG(2),o=t.sdS(23);t.Y8G("routerLink",r.product.eshopUrl?null:"/product/"+t.bMT(1,5,r.product.seo.metaUrl)+"/"+r.product.randomProductId),t.R7$(4),t.Y8G("ngIf",r.showFavBtn),t.R7$(2),t.Y8G("ngIf",(null==r.product.images||null==r.product.images[0]?null:r.product.images[0].type)===r.MediaType.VIDEO)("ngIfElse",n),t.R7$(4),t.Y8G("ngTemplateOutlet",o)}}function A(e,i){if(1&e&&t.DNE(0,S,11,7,"a",33),2&e){const n=t.XpG();t.Y8G("ngIf","grid"===n.viewType)}}function V(e,i){1&e&&(t.j41(0,"span",41),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"span",42),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"span",43),t.EFF(7),t.nI1(8,"translate"),t.k0s()),2&e&&(t.R7$(),t.JRh(t.bMT(2,3,"new")),t.R7$(3),t.JRh(t.bMT(5,5,"product_thumbnail.best_seller")),t.R7$(3),t.JRh(t.bMT(8,7,"product_thumbnail.top_seller")))}function K(e,i){if(1&e){const n=t.RV6();t.j41(0,"span",44)(1,"mat-icon",45),t.bIt("click",function(o){t.eBV(n);const c=t.XpG();return t.Njj(c.toggleFavourite(o))}),t.EFF(2),t.k0s()()}if(2&e){const n=t.XpG();t.R7$(),t.Y8G("color",n.product.isFavorite?"accent":"primary"),t.R7$(),t.SpI(" ",n.product.isFavorite?"favorite":"favorite_outline"," ")}}function z(e,i){if(1&e&&(t.j41(0,"div",47)(1,"span",48),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&e){const n=t.XpG(2);t.R7$(2),t.Lme(" ",n.product.price.discountRate,"% ",t.bMT(3,2,"reduction")," ")}}function H(e,i){if(1&e&&t.DNE(0,z,4,4,"div",46),2&e){const n=t.XpG();t.Y8G("ngIf",n.product.price.discountRate)}}let J=(()=>{class e extends g.e{constructor(n,r){super(),this.cart=n,this.favoriteService=r,this.viewType=b.o.list,this.showColors=!1,this.showCartBtn=!1,this.showDetailBtn=!1,this.showDiscount=!0,this.showSubtotal=!1,this.showFavBtn=!1,this.addToCart=new t.bkB,this.loading={cart:!1,cartPopup:!1},this.MediaType=p.zu}ngOnInit(){this.favoriteService.favoriteToggled$.pipe((0,f.Q)(this.destroy$)).subscribe(({product:n,added:r})=>{n.id===this.product.id&&(this.product.isFavorite=r)})}ngOnChanges(n){n.product?.firstChange&&(this.product.isFavorite=this.favoriteService.isFavorite(this.product.randomProductId,this.product.isFavorite))}toggleFavourite(n){n.preventDefault(),n.stopPropagation(),this.product.isFavorite=!this.product.isFavorite,this.favoriteService.toggle(this.product,this.product.isFavorite).subscribe()}_addToCart(n){this.loading.cart=!0,this.cart.addToCart(this.product.id,1).pipe((0,h.j)(()=>this.loading.cart=!1)).subscribe(()=>{this.addToCart.emit(n),this.cartDialogContainer&&(this.loading.cartPopup=!0,this.cart.openDialog(this.cartDialogContainer).then(()=>this.loading.cartPopup=!1))})}gotoEshopProduct(n){if(this.product.eshopUrl){n.preventDefault();const r=`${this.product.eshopUrl}/product/${encodeURIComponent(this.product.seo.metaUrl)}/${this.product.randomProductId}`;Object.assign(document.createElement("a"),{target:"_blank",href:r}).click()}}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(M.m),t.rXU(I.U))};static#n=this.\u0275cmp=t.VBU({type:e,selectors:[["app-product-thumbnail"]],inputs:{product:"product",viewType:"viewType",showColors:"showColors",showCartBtn:"showCartBtn",showDetailBtn:"showDetailBtn",showDiscount:"showDiscount",showSubtotal:"showSubtotal",cartDialogContainer:"cartDialogContainer",showFavBtn:"showFavBtn"},outputs:{addToCart:"addToCart"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:O,decls:24,vars:17,consts:[["gridImgWrapper",""],["pills",""],["favourite",""],["discount",""],["imageRef",""],["image",""],[1,"main-wrapper","mt-3","d-flex"],["class","img-wrapper d-flex flex-column justify-content-center align-items-center",4,"ngIf","ngIfElse"],[1,"descr-wrapper","px-2","pb-3"],["class","d-flex flex-wrap justify-content-between w-100 pt-3 pills-wrapper",4,"ngIf"],[1,"pt-3","title","overflow-hidden","cur-pointer",3,"click","routerLink"],[1,"price-wrapper","mt-3"],[1,"card-title"],[3,"amount"],["class","ms-3 orig-price",4,"ngIf"],[1,"d-flex","align-items-baseline","justify-content-between"],["class","btn btn-primary mt-3 d-flex justify-content-center",3,"class","appLoading","disabled","click",4,"ngIf"],["class","btn btn-primary mt-3 d-flex justify-content-center",3,"class","routerLink","click",4,"ngIf"],["class","pe-1 pt-2",4,"ngIf"],[1,"img-wrapper","d-flex","flex-column","justify-content-center","align-items-center"],["class","w-100 cur-pointer px-2",4,"ngIf","ngIfElse"],[1,"w-100","cur-pointer","px-2"],[3,"src"],[1,"cur-pointer",3,"click","routerLink"],["loading","lazy",1,"w-100","cur-pointer",3,"src","alt"],[1,"d-flex","flex-wrap","justify-content-between","w-100","pt-3","pills-wrapper"],[4,"ngTemplateOutlet"],[1,"ms-3","orig-price"],[3,"lineThrough","amount"],[1,"btn","btn-primary","mt-3","d-flex","justify-content-center",3,"click","appLoading","disabled"],[1,"me-3"],[1,"btn","btn-primary","mt-3","d-flex","justify-content-center",3,"click","routerLink"],[1,"pe-1","pt-2"],["class","img-wrapper d-flex flex-column justify-content-between pills-wrapper text-decoration-none cur-pointer position-relative",3,"routerLink","click",4,"ngIf"],[1,"img-wrapper","d-flex","flex-column","justify-content-between","pills-wrapper","text-decoration-none","cur-pointer","position-relative",3,"click","routerLink"],[1,"d-flex","justify-content-between","w-100","position-absolute","top-icons-section"],[1,"ps-1"],["class","w-100",4,"ngIf","ngIfElse"],[1,"discount-wrapper"],[1,"w-100"],["loading","lazy",3,"src","alt"],[1,"badge","bg-danger"],[1,"badge","border","border-danger","text-danger"],[1,"badge","bg-primary"],[1,"fav-icon-wrapper","cur-pointer"],[3,"click","color"],["class","d-flex justify-content-end",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"badge","text-white","bg-danger"]],template:function(r,o){if(1&r){const c=t.RV6();t.NAR(),t.j41(0,"div",6),t.DNE(1,y,4,2,"div",7),t.j41(2,"div",8),t.DNE(3,k,2,1,"div",9),t.j41(4,"a",10),t.nI1(5,"encodeURIComponent"),t.bIt("click",function(Q){return t.eBV(c),t.Njj(o.gotoEshopProduct(Q))}),t.EFF(6),t.k0s(),t.j41(7,"div",11)(8,"span",12),t.nrm(9,"app-price",13),t.k0s(),t.DNE(10,G,2,2,"span",14),t.k0s(),t.SdG(11),t.j41(12,"div",15),t.DNE(13,B,6,7,"button",16)(14,U,4,8,"button",17)(15,$,2,1,"div",18),t.k0s()()(),t.DNE(16,A,1,1,"ng-template",null,0,t.C5r)(18,V,9,9,"ng-template",null,1,t.C5r)(20,K,3,2,"ng-template",null,2,t.C5r)(22,H,1,1,"ng-template",null,3,t.C5r)}if(2&r){let c;const d=t.sdS(17);t.HbH(t.l_i(14,x,"list"===o.viewType?"flex-row":"flex-column","list"===o.viewType?"view-type-list":"view-type-grid")),t.R7$(),t.Y8G("ngIf","list"===o.viewType)("ngIfElse",d),t.R7$(2),t.Y8G("ngIf","list"===o.viewType),t.R7$(),t.Y8G("routerLink",o.product.eshopUrl?null:"/product/"+t.bMT(5,12,o.product.seo.metaUrl)+"/"+o.product.randomProductId),t.R7$(2),t.SpI(" ",o.product.name," "),t.R7$(3),t.Y8G("amount",o.product.price.priceWithVat*(o.showSubtotal&&null!==(c=o.product.quantity)&&void 0!==c?c:1)),t.R7$(),t.Y8G("ngIf",o.product.price.discountRate&&o.showDiscount),t.R7$(3),t.Y8G("ngIf",o.showCartBtn),t.R7$(),t.Y8G("ngIf",o.showDetailBtn),t.R7$(),t.Y8G("ngIf","list"===o.viewType&&o.showFavBtn)}},dependencies:[v.Wk,T.F,s.bT,C._,P.i,s.T3,w.G,E.An,u.h,u.D9],styles:[".main-wrapper[_ngcontent-%COMP%]{width:100%;border:1px solid #E2E2E2;border-radius:5px}.main-wrapper[_ngcontent-%COMP%]:hover{border-color:rgba(var(--primary-color-rgb),.25)}.main-wrapper.view-type-list[_ngcontent-%COMP%]{width:100%;align-items:center}.main-wrapper.view-type-list[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{width:30%;min-width:100px}.main-wrapper.view-type-list[_ngcontent-%COMP%]   .descr-wrapper[_ngcontent-%COMP%]{width:70%}.main-wrapper.view-type-grid[_ngcontent-%COMP%]   .discount-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.main-wrapper.view-type-grid[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .top-icons-section[_ngcontent-%COMP%]{z-index:1}.main-wrapper[_ngcontent-%COMP%]   .pills-wrapper[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{margin-right:5px;margin-top:1.5px;font-size:.5rem}.main-wrapper[_ngcontent-%COMP%]   .pills-wrapper[_ngcontent-%COMP%]   .badge.outline[_ngcontent-%COMP%]{background-color:#fff}.main-wrapper[_ngcontent-%COMP%]   .fav-icon-wrapper[_ngcontent-%COMP%]{border:1px solid var(--primary-color);border-radius:4px;display:inline-block;padding:5px 5px 0;background:#fff}.main-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.main-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{height:150px;object-fit:cover}.main-wrapper[_ngcontent-%COMP%]   .descr-wrapper[_ngcontent-%COMP%]{background-color:#f2f2f2;border-radius:inherit}.main-wrapper[_ngcontent-%COMP%]   .price-wrapper[_ngcontent-%COMP%]{text-align:start}.main-wrapper[_ngcontent-%COMP%]   .price-wrapper[_ngcontent-%COMP%]   app-price[_ngcontent-%COMP%]{font-weight:700}.main-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:start;font-size:14px;font-weight:700;height:80px;display:block;text-decoration:none;color:inherit;margin-bottom:10px}.main-wrapper[_ngcontent-%COMP%]   .color[_ngcontent-%COMP%]{height:27px;width:27px;min-width:27px;border-radius:5px}.main-wrapper[_ngcontent-%COMP%]   .orig-price[_ngcontent-%COMP%]{color:#707070;font-size:18px}"]})}return e})()}}]);