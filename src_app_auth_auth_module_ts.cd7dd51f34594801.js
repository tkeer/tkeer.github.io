"use strict";(self.webpackChunkeshop=self.webpackChunkeshop||[]).push([["src_app_auth_auth_module_ts","src_app_core_services_auth-user_service_ts","src_app_shared_directives_loading_directive_ts"],{4574:(W,k,c)=>{c.r(k),c.d(k,{AuthModule:()=>Zn});var a=c(177),_=c(4710),t=c(4438),p=c(565),m=c(9213),w=c(882);let O=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-auth"]],decls:11,vars:5,consts:[["sidenav",""],[3,"sidenav","hideMenuButton"],["mode","over","position","end",3,"fixedInViewport","fixedTopGap","fixedBottomGap"],[1,"d-flex","w-100","justify-content-end","p-3","pb-5"],[3,"click"],[1,"pb-5","px-2","px-sm-4"]],template:function(i,o){if(1&i){const r=t.RV6();t.nrm(0,"app-toolbar",1),t.j41(1,"mat-sidenav-container")(2,"mat-sidenav",2,0)(4,"div")(5,"div",3)(6,"mat-icon",4),t.bIt("click",function(){t.eBV(r);const d=t.sdS(3);return t.Njj(d.close())}),t.EFF(7,"close"),t.k0s()()()(),t.j41(8,"mat-sidenav-content")(9,"div",5),t.nrm(10,"router-outlet"),t.k0s()()()}if(2&i){const r=t.sdS(3);t.Y8G("sidenav",r)("hideMenuButton",!0),t.R7$(2),t.Y8G("fixedInViewport",!0)("fixedTopGap",0)("fixedBottomGap",0)}},dependencies:[_.n3,p.H,m.An,w.US,w.El,w.LG]})}return n})();var l=c(9417);let B=(()=>{class n{getError(e,i){return this.form.controls[e]?.errors?.[i]}setError(e,i,o=!0){this.form.controls[e].setErrors({[i]:o})}_initFormControl(e,i){this.form=e.group(i)}addController(e,i="",o=null){this.form.contains(e)||this.form.addControl(e,new l.MJ(i,o))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=t.FsC({type:n})}return n})();var L=c(8810),T=c(9437),j=c(980),v=c(8720),b=c(6344),N=c(7938),I=c(4738),$=c(8855),V=c(6915),g=c(3599);function E(n){if(null==n)return window;if("[object Window]"!==n.toString()){var s=n.ownerDocument;return s&&s.defaultView||window}return n}function x(n){return n instanceof E(n).Element||n instanceof Element}function M(n){return n instanceof E(n).HTMLElement||n instanceof HTMLElement}function y(n){return!(typeof ShadowRoot>"u")&&(n instanceof E(n).ShadowRoot||n instanceof ShadowRoot)}Math,Math;var J=Math.round;function yt(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(s){return s.brand+"/"+s.version}).join(" "):navigator.userAgent}function at(n,s,e){void 0===s&&(s=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),o=1,r=1;s&&M(n)&&(o=n.offsetWidth>0&&J(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&J(i.height)/n.offsetHeight||1);var d=(x(n)?E(n):window).visualViewport,f=!function Jt(){return!/^((?!chrome|android).)*safari/i.test(yt())}()&&e,C=(i.left+(f&&d?d.offsetLeft:0))/o,h=(i.top+(f&&d?d.offsetTop:0))/r,Y=i.width/o,z=i.height/r;return{width:Y,height:z,top:h,right:C+Y,bottom:h+z,left:C,x:C,y:h}}function Tt(n){var s=E(n);return{scrollLeft:s.pageXOffset,scrollTop:s.pageYOffset}}function X(n){return n?(n.nodeName||"").toLowerCase():null}function ct(n){return((x(n)?n.ownerDocument:n.document)||window.document).documentElement}function Q(n){return E(n).getComputedStyle(n)}function wt(n){var s=Q(n);return/auto|scroll|overlay|hidden/.test(s.overflow+s.overflowY+s.overflowX)}function ne(n,s,e){void 0===e&&(e=!1);var i=M(s),o=M(s)&&function ee(n){var s=n.getBoundingClientRect(),e=J(s.width)/n.offsetWidth||1,i=J(s.height)/n.offsetHeight||1;return 1!==e||1!==i}(s),r=ct(s),u=at(n,o,e),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!e)&&(("body"!==X(s)||wt(r))&&(d=function Zt(n){return n!==E(n)&&M(n)?function Ht(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Tt(n)}(s)),M(s)?((f=at(s,!0)).x+=s.clientLeft,f.y+=s.clientTop):r&&(f.x=function te(n){return at(ct(n)).left+Tt(n).scrollLeft}(r))),{x:u.left+d.scrollLeft-f.x,y:u.top+d.scrollTop-f.y,width:u.width,height:u.height}}function ie(n){var s=at(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(s.width-e)<=1&&(e=s.width),Math.abs(s.height-i)<=1&&(i=s.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function Ct(n){return"html"===X(n)?n:n.assignedSlot||n.parentNode||(y(n)?n.host:null)||ct(n)}function Ft(n){return["html","body","#document"].indexOf(X(n))>=0?n.ownerDocument.body:M(n)&&wt(n)?n:Ft(Ct(n))}function lt(n,s){var e;void 0===s&&(s=[]);var i=Ft(n),o=i===(null==(e=n.ownerDocument)?void 0:e.body),r=E(i),u=o?[r].concat(r.visualViewport||[],wt(i)?i:[]):i,d=s.concat(u);return o?d:d.concat(lt(Ct(u)))}function oe(n){return["table","td","th"].indexOf(X(n))>=0}function jt(n){return M(n)&&"fixed"!==Q(n).position?n.offsetParent:null}function St(n){for(var s=E(n),e=jt(n);e&&oe(e)&&"static"===Q(e).position;)e=jt(e);return e&&("html"===X(e)||"body"===X(e)&&"static"===Q(e).position)?s:e||function se(n){var s=/firefox/i.test(yt());if(/Trident/i.test(yt())&&M(n)&&"fixed"===Q(n).position)return null;var o=Ct(n);for(y(o)&&(o=o.host);M(o)&&["html","body"].indexOf(X(o))<0;){var r=Q(o);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||s&&"filter"===r.willChange||s&&r.filter&&"none"!==r.filter)return o;o=o.parentNode}return null}(n)||s}var it="top",pt="bottom",ut="right",ot="left",ge=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function _e(n){var s=new Map,e=new Set,i=[];function o(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(d){if(!e.has(d)){var f=s.get(d);f&&o(f)}}),i.push(r)}return n.forEach(function(r){s.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||o(r)}),i}function be(n){var s;return function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(n())})})),s}}var Gt={placement:"bottom",modifiers:[],strategy:"absolute"};function At(){for(var n=arguments.length,s=new Array(n),e=0;e<n;e++)s[e]=arguments[e];return!s.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function we(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,o=n.defaultOptions,r=void 0===o?Gt:o;return function(d,f,C){void 0===C&&(C=r);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Gt,r),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},Y=[],z=!1,R={state:h,setOptions:function(q){var K="function"==typeof q?q(h.options):q;S(),h.options=Object.assign({},r,h.options,K),h.scrollParents={reference:x(d)?lt(d):d.contextElement?lt(d.contextElement):[],popper:lt(f)};var U=function ve(n){var s=_e(n);return ge.reduce(function(e,i){return e.concat(s.filter(function(o){return o.phase===i}))},[])}(function ye(n){var s=n.reduce(function(e,i){var o=e[i.name];return e[i.name]=o?Object.assign({},o,i,{options:Object.assign({},o.options,i.options),data:Object.assign({},o.data,i.data)}):i,e},{});return Object.keys(s).map(function(e){return s[e]})}([].concat(i,h.options.modifiers)));return h.orderedModifiers=U.filter(function(A){return A.enabled}),function _t(){h.orderedModifiers.forEach(function(F){var K=F.options,A=F.effect;if("function"==typeof A){var D=A({state:h,name:F.name,instance:R,options:void 0===K?{}:K});Y.push(D||function(){})}})}(),R.update()},forceUpdate:function(){if(!z){var q=h.elements,K=q.reference,U=q.popper;if(At(K,U)){h.rects={reference:ne(K,St(U),"fixed"===h.options.strategy),popper:ie(U)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(bt){return h.modifiersData[bt.name]=Object.assign({},bt.data)});for(var A=0;A<h.orderedModifiers.length;A++)if(!0!==h.reset){var D=h.orderedModifiers[A],G=D.fn,nt=D.options;"function"==typeof G&&(h=G({state:h,options:void 0===nt?{}:nt,name:D.name,instance:R})||h)}else h.reset=!1,A=-1}}},update:be(function(){return new Promise(function(F){R.forceUpdate(),F(h)})}),destroy:function(){S(),z=!0}};if(!At(d,f))return R;function S(){Y.forEach(function(F){return F()}),Y=[]}return R.setOptions(C).then(function(F){!z&&C.onFirstUpdate&&C.onFirstUpdate(F)}),R}}var dt={passive:!0};function Dt(n){return n.split("-")[0]}function $t(n){return n.split("-")[1]}var ke={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lt(n){var s,e=n.popper,i=n.popperRect,o=n.placement,r=n.variation,u=n.offsets,d=n.position,f=n.gpuAcceleration,C=n.adaptive,h=n.roundOffsets,Y=n.isFixed,z=u.x,R=void 0===z?0:z,_t=u.y,S=void 0===_t?0:_t,F="function"==typeof h?h({x:R,y:S}):{x:R,y:S};R=F.x,S=F.y;var q=u.hasOwnProperty("x"),K=u.hasOwnProperty("y"),U=ot,A=it,D=window;if(C){var G=St(e),nt="clientHeight",vt="clientWidth";G===E(e)&&"static"!==Q(G=ct(e)).position&&"absolute"===d&&(nt="scrollHeight",vt="scrollWidth"),(o===it||(o===ot||o===ut)&&"end"===r)&&(A=pt,S-=(Y&&G===D&&D.visualViewport?D.visualViewport.height:G[nt])-i.height,S*=f?1:-1),o!==ot&&(o!==it&&o!==pt||"end"!==r)||(U=ut,R-=(Y&&G===D&&D.visualViewport?D.visualViewport.width:G[vt])-i.width,R*=f?1:-1)}var rt,Wt=Object.assign({position:d},C&&ke),Qt=!0===h?function Re(n,s){var i=n.y,o=s.devicePixelRatio||1;return{x:J(n.x*o)/o||0,y:J(i*o)/o||0}}({x:R,y:S},E(e)):{x:R,y:S};return R=Qt.x,S=Qt.y,Object.assign({},Wt,f?((rt={})[A]=K?"0":"",rt[U]=q?"0":"",rt.transform=(D.devicePixelRatio||1)<=1?"translate("+R+"px, "+S+"px)":"translate3d("+R+"px, "+S+"px, 0)",rt):((s={})[A]=K?S+"px":"",s[U]=q?R+"px":"",s.transform="",s))}var Ge=we({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ce(n){var s=n.state,e=n.instance,i=n.options,o=i.scroll,r=void 0===o||o,u=i.resize,d=void 0===u||u,f=E(s.elements.popper),C=[].concat(s.scrollParents.reference,s.scrollParents.popper);return r&&C.forEach(function(h){h.addEventListener("scroll",e.update,dt)}),d&&f.addEventListener("resize",e.update,dt),function(){r&&C.forEach(function(h){h.removeEventListener("scroll",e.update,dt)}),d&&f.removeEventListener("resize",e.update,dt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Oe(n){var s=n.state;s.modifiersData[n.name]=function Me(n){var f,s=n.reference,e=n.element,i=n.placement,o=i?Dt(i):null,r=i?$t(i):null,u=s.x+s.width/2-e.width/2,d=s.y+s.height/2-e.height/2;switch(o){case it:f={x:u,y:s.y-e.height};break;case pt:f={x:u,y:s.y+s.height};break;case ut:f={x:s.x+s.width,y:d};break;case ot:f={x:s.x-e.width,y:d};break;default:f={x:s.x,y:s.y}}var C=o?function Ie(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}(o):null;if(null!=C){var h="y"===C?"height":"width";switch(r){case"start":f[C]=f[C]-(s[h]/2-e[h]/2);break;case"end":f[C]=f[C]+(s[h]/2-e[h]/2)}}return f}({reference:s.rects.reference,element:s.rects.popper,strategy:"absolute",placement:s.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Pe(n){var s=n.state,e=n.options,i=e.gpuAcceleration,o=void 0===i||i,r=e.adaptive,u=void 0===r||r,d=e.roundOffsets,f=void 0===d||d,C={placement:Dt(s.placement),variation:$t(s.placement),popper:s.elements.popper,popperRect:s.rects.popper,gpuAcceleration:o,isFixed:"fixed"===s.options.strategy};null!=s.modifiersData.popperOffsets&&(s.styles.popper=Object.assign({},s.styles.popper,Lt(Object.assign({},C,{offsets:s.modifiersData.popperOffsets,position:s.options.strategy,adaptive:u,roundOffsets:f})))),null!=s.modifiersData.arrow&&(s.styles.arrow=Object.assign({},s.styles.arrow,Lt(Object.assign({},C,{offsets:s.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),s.attributes.popper=Object.assign({},s.attributes.popper,{"data-popper-placement":s.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Fe(n){var s=n.state;Object.keys(s.elements).forEach(function(e){var i=s.styles[e]||{},o=s.attributes[e]||{},r=s.elements[e];!M(r)||!X(r)||(Object.assign(r.style,i),Object.keys(o).forEach(function(u){var d=o[u];!1===d?r.removeAttribute(u):r.setAttribute(u,!0===d?"":d)}))})},effect:function je(n){var s=n.state,e={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,e.popper),s.styles=e,s.elements.arrow&&Object.assign(s.elements.arrow.style,e.arrow),function(){Object.keys(s.elements).forEach(function(i){var o=s.elements[i],r=s.attributes[i]||{},d=Object.keys(s.styles.hasOwnProperty(i)?s.styles[i]:e[i]).reduce(function(f,C){return f[C]="",f},{});!M(o)||!X(o)||(Object.assign(o.style,d),Object.keys(r).forEach(function(f){o.removeAttribute(f)}))})}},requires:["computeStyles"]}]}),H=c(1482),Z=c(6977),qt=c(9879),It=c(3767),P=c(1780);function Ae(n,s){1&n&&(t.j41(0,"p",11),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"zaidra-network.account-exist")," "))}let De=(()=>{class n extends H.e{constructor(e,i,o,r,u,d){super(),this.api=e,this.localStorage=i,this.router=o,this.authUserService=r,this.authService=u,this.fb=d,this.hasOtherAccounts=!1,this.loading=!1,this.form=this.fb.group({password:["",l.k0.required],rememberMe:[!0]})}login(){if(this.form.invalid)return;this.loading=!0;const e={...this.form.value,email:this.email};this.api.post("authenticate",e,v.w.au).pipe((0,T.W)(i=>(this.form.controls.password.setErrors({invalid_password:!0}),this.form.markAllAsTouched(),this.form.markAsDirty(),(0,L.$)(i)))).pipe((0,j.j)(()=>this.loading=!1)).subscribe(i=>{this.authUserService.setAuthToken(i.id_token).subscribe(),this.redirect()})}togglePopover(e){e.stopPropagation();const i=document.querySelector("#reference"),o=document.querySelector("#tooltip");this.popover||(this.popover=Ge(i,o,{placement:"bottom"}),document.addEventListener("click",this.hidePopover)),o.hasAttribute("data-show")?o.removeAttribute("data-show"):(o.style.width=`${o.parentElement.offsetWidth}px`,o.setAttribute("data-show",""),this.popover.update())}hidePopover(){document.querySelector("#tooltip").removeAttribute("data-show")}redirect(){this.loading=!0,this.api.get("security-questions",v.w.au).pipe((0,Z.Q)(this.destroy$),(0,j.j)(()=>this.loading=!1)).subscribe(e=>{const i=e.filter(o=>o.selected).length;return this.authService.redirectAfterLogin(i>=3)})}ngOnDestroy(){super.ngOnDestroy(),document.removeEventListener("click",this.hidePopover)}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(qt.s),t.rXU(_.Ix),t.rXU(N.AuthUserService),t.rXU(It.u),t.rXU(l.ok))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-password-login"]],inputs:{email:"email",hasOtherAccounts:"hasOtherAccounts"},features:[t.Vt3],decls:17,vars:14,consts:[[3,"formGroup"],["class","mt-3 mb-0",4,"ngIf"],[1,"d-flex","pw-input-wrapper"],["label","Password","type","password",1,"w-100",3,"control"],[1,"forgot-pw","text-end"],["routerLink","/auth/forgot/password"],[1,"d-flex","trusted-device"],["type","checkbox","id","trusted-device","name","trusted",1,"form-check-input",3,"formControl"],["for","trusted-device",1,"ps-2"],[1,"d-flex","justify-content-center","login-btn-wrapper","mt-4.5"],[1,"btn","btn-primary","btn-auth",3,"click","appLoading"],[1,"mt-3","mb-0"]],template:function(i,o){1&i&&(t.j41(0,"form",0),t.DNE(1,Ae,3,3,"p",1),t.j41(2,"div",2),t.nrm(3,"app-input",3),t.k0s(),t.j41(4,"div",4)(5,"a",5),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.j41(8,"div",6),t.nrm(9,"input",7),t.j41(10,"label",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",9)(14,"button",10),t.bIt("click",function(){return o.login()}),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()),2&i&&(t.Y8G("formGroup",o.form),t.R7$(),t.Y8G("ngIf",o.hasOtherAccounts),t.R7$(2),t.Y8G("control",o.form.controls.password),t.R7$(3),t.SpI("",t.bMT(7,8,"forgot-password"),"?"),t.R7$(3),t.Y8G("formControl",o.form.controls.rememberMe),t.R7$(2),t.SpI("",t.bMT(12,10,"trusted-device"),"."),t.R7$(3),t.Y8G("appLoading",o.loading),t.R7$(),t.JRh(t.bMT(16,12,"login")))},dependencies:[a.bT,_.Wk,l.qT,l.Zm,l.BC,l.cb,I.G,l.l_,l.j4,g.S,P.D9],styles:[".info-icon[_ngcontent-%COMP%]{color:var(--secondary-color);cursor:pointer}.info-popup[_ngcontent-%COMP%]{box-shadow:0 .625rem 1rem rgba(var(--primary-color-rgb),.25);background-color:#f3f3f3;color:var(--secondary-color);font-size:.875rem;z-index:1;width:available}.info-popup[_ngcontent-%COMP%]   .web-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:underline}.forgot-pw[_ngcontent-%COMP%]{margin-top:1.437rem}.pw-input-wrapper[_ngcontent-%COMP%]{margin-top:2.75rem}.login-btn-wrapper[_ngcontent-%COMP%]{margin-top:2.937rem}.trusted-device[_ngcontent-%COMP%]{margin-top:8.75rem}@media screen and (min-width: 768px){.trusted-device[_ngcontent-%COMP%]{margin-top:7.5rem}}@media screen and (min-width: 992px){.trusted-device[_ngcontent-%COMP%]{margin-top:4.375rem}}#tooltip[_ngcontent-%COMP%]{display:none}#tooltip[data-show][_ngcontent-%COMP%]{display:block}"]})}return n})();var mt=c(4006),Mt=c(1997);let $e=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}close(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(mt.CP),t.rXU(mt.Vh))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-account-locked"]],decls:32,vars:17,consts:[[1,"d-flex","header","justify-content-between","p-3","p-sm-3"],[1,"d-flex","align-items-center","justify-content-between","flex-grow-1"],[1,"d-inline-block","text-nowrap"],[1,"title-icon","me-1","cur-pointer",3,"click"],["mat-dialog-content","",1,"px-3","pb-4"],[1,"d-flex","my-5"],[1,"d-flex","align-items-center","alert","alert-primary","flex-grow-1"],[1,"pe-3"],[1,"d-inline-flex","text-danger"],[1,"d-flex","flex-column"],[1,"text-decoration-underline"],[1,"d-none"],[1,"fs-s"],[1,"d-flex","justify-content-center"],["tabindex","-1",1,"btn","btn-primary","mt-2r","px-0","px-sm-5","col-12","col-sm-auto","fs-3xl",3,"click"]],template:function(i,o){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"app-auth-dios",2),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"mat-icon",3),t.bIt("click",function(){return o.close()}),t.EFF(6,"close"),t.k0s()()(),t.nrm(7,"mat-divider"),t.j41(8,"div",4)(9,"div",5)(10,"div",6)(11,"span",7)(12,"mat-icon",8),t.EFF(13,"error_filled"),t.k0s()(),t.j41(14,"div",9)(15,"span"),t.EFF(16),t.k0s(),t.j41(17,"span"),t.EFF(18),t.nI1(19,"translate"),t.j41(20,"span",10),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.EFF(23,"."),t.k0s()()()(),t.j41(24,"div",11)(25,"p",12),t.EFF(26),t.nI1(27,"translate"),t.k0s(),t.j41(28,"div",13)(29,"button",14),t.bIt("click",function(){return o.close()}),t.EFF(30),t.nI1(31,"translate"),t.k0s()()()()),2&i&&(t.R7$(3),t.SpI(" ",t.bMT(4,7,"auth-title"),""),t.R7$(13),t.JRh(o.data.message),t.R7$(2),t.SpI("",t.bMT(19,9,"account.locked-until")," "),t.R7$(3),t.Lme("",o.data.mins," ",t.bMT(22,11,"minutes"),""),t.R7$(5),t.SpI("",t.bMT(27,13,"account.create-new"),"."),t.R7$(4),t.JRh(t.bMT(31,15,"account.create-title")))},dependencies:[m.An,Mt.q,V.T,mt.Yi,P.D9],styles:[".header[_ngcontent-%COMP%]   .star-icon-wrapper[_ngcontent-%COMP%]{border:solid 1px #E2E2E2;border-radius:5px}.header[_ngcontent-%COMP%]   .cancel-icon[_ngcontent-%COMP%]{font-size:14px}"]})}return n})();function Le(n,s){if(1&n){const e=t.RV6();t.j41(0,"input",4,0),t.bIt("paste",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.handlePaste(o))})("keyup",function(o){const r=t.eBV(e).index,u=t.XpG(2);return t.Njj(u.onKeyUp(o,r))})("input",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onInput(o))})("keydown",function(o){const r=t.eBV(e).index,u=t.XpG(2);return t.Njj(u.onKeyDown(o,r))}),t.k0s()}if(2&n){const e=s.$implicit,i=s.index,o=t.XpG(2);t.ZvI("otp-input ",o.config.inputClass,""),t.Y8G("pattern",o.config.allowNumbersOnly?"\\d*":"")("type",o.inputType)("placeholder",(null==o.config?null:o.config.placeholder)||"")("ngStyle",o.config.inputStyles)("formControl",o.otpForm.controls[e])("id",o.getBoxId(i))}}function qe(n,s){if(1&n&&(t.j41(0,"div",2),t.DNE(1,Le,2,9,"input",3),t.nI1(2,"keys"),t.k0s()),2&n){const e=t.XpG();t.ZvI("ng-otp-input-wrapper wrapper ",e.config.containerClass,""),t.Mz_("id","c_",e.componentKey,""),t.Y8G("ngStyle",e.config.containerStyles),t.R7$(),t.Y8G("ngForOf",t.bMT(2,7,null==e.otpForm?null:e.otpForm.controls))}}class tt{static ifTab(s){return this.ifKey(s,"Tab")}static ifDelete(s){return this.ifKey(s,"Delete;Del")}static ifBackspace(s){return this.ifKey(s,"Backspace")}static ifRightArrow(s){return this.ifKey(s,"ArrowRight;Right")}static ifLeftArrow(s){return this.ifKey(s,"ArrowLeft;Left")}static ifSpacebar(s){return this.ifKey(s,"Spacebar; ")}static ifKey(s,e){return e.split(";").some(o=>o===s.key)}}let Ot=(()=>{class n{transform(e){return Object.keys(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.EJ8({name:"keys",type:n,pure:!0}),n})(),Ut=(()=>{class n{constructor(e,i){this.keysPipe=e,this.document=i,this.config={length:4},this.onInputChange=new t.bkB,this.inputControls=new Array(this.config.length),this.componentKey=Math.random().toString(36).substring(2)+(new Date).getTime().toString(36)}get inputType(){return this.config?.isPasswordInput?"password":this.config?.allowNumbersOnly?"tel":"text"}ngOnInit(){this.otpForm=new l.gE({});for(let e=0;e<this.config.length;e++)this.otpForm.addControl(this.getControlName(e),new l.MJ);this.otpForm.valueChanges.subscribe(e=>{this.keysPipe.transform(this.otpForm.controls).forEach(i=>{var o=this.otpForm.controls[i].value;o&&o.length>1&&(o.length>=this.config.length?this.setValue(o):this.rebuildValue())})})}ngAfterViewInit(){if(!this.config.disableAutoFocus){const e=this.document.getElementById(`c_${this.componentKey}`);if(e){const i=e.getElementsByClassName("otp-input")[0];i&&i.focus&&i.focus()}}}getControlName(e){return`ctrl_${e}`}onKeyDown(e,i){const o=this.getBoxId(i-1),r=this.getBoxId(i);return tt.ifSpacebar(e)?(e.preventDefault(),!1):tt.ifBackspace(e)?(e.target.value?this.clearInput(r,i):(this.clearInput(o,i-1),this.setSelected(o)),void this.rebuildValue()):void 0}onInput(e){if(this.config.allowNumbersOnly&&!this.validateNumber(this.currentVal?`${this.currentVal}${e.target.value}`:e.target.value))return e.target.value="",e.stopPropagation(),void e.preventDefault()}onKeyUp(e,i){tt.ifTab(e)&&(i-=1);const o=this.getBoxId(i+1),r=this.getBoxId(i-1),u=this.getBoxId(i);return tt.ifRightArrow(e)?(e.preventDefault(),void this.setSelected(o)):tt.ifLeftArrow(e)?(e.preventDefault(),void this.setSelected(r)):tt.ifDelete(e)?(e.target.value?this.clearInput(u,i):(this.clearInput(r,i-1),this.setSelected(r)),void this.rebuildValue()):void(e.target.value&&(this.ifValidKeyCode(e)&&this.setSelected(o),this.rebuildValue()))}validateNumber(e){return e&&/^[0-9]+$/.test(e)}getBoxId(e){return`otp_${e}_${this.componentKey}`}clearInput(e,i){let o=this.getControlName(i);this.otpForm.controls[o]?.setValue(null);const r=this.document.getElementById(e);r&&r instanceof HTMLInputElement&&(r.value=null)}setSelected(e){this.focusTo(e);const i=this.document.getElementById(e);i&&i.setSelectionRange&&setTimeout(()=>{i.setSelectionRange(0,1)},0)}ifValidKeyCode(e){const i=e.key;return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||/[a-zA-Z0-9-_]/.test(i)}focusTo(e){const i=this.document.getElementById(e);i&&i.focus()}setValue(e){if(!this.config.allowNumbersOnly||!isNaN(e)){if(this.otpForm.reset(),!e)return void this.rebuildValue();if(e=e.toString().replace(/\s/g,""),Array.from(e).forEach((o,r)=>{this.otpForm.get(this.getControlName(r))&&this.otpForm.get(this.getControlName(r)).setValue(o)}),!this.config.disableAutoFocus){const o=this.document.getElementById(`c_${this.componentKey}`);var i=e.length<this.config.length?e.length:this.config.length-1;let r=o.getElementsByClassName("otp-input")[i];r&&r.focus&&r.focus()}this.rebuildValue()}}rebuildValue(){let e="";this.keysPipe.transform(this.otpForm.controls).forEach(i=>{if(this.otpForm.controls[i].value){let o=this.otpForm.controls[i].value,r=o.length>1,u=!this.config.allowNumbersOnly&&this.config.letterCase&&("upper"==this.config.letterCase.toLocaleLowerCase()||"lower"==this.config.letterCase.toLocaleLowerCase());o=o[0];let d=u?"upper"==this.config.letterCase.toLocaleLowerCase()?o.toUpperCase():o.toLowerCase():o;u&&d==o?u=!1:o=d,e+=o,(r||u)&&this.otpForm.controls[i].setValue(o)}}),this.formCtrl?.setValue&&this.formCtrl.setValue(e),this.onInputChange.emit(e),this.currentVal=e}handlePaste(e){let i=e.clipboardData||window.clipboardData;if(i)var o=i.getData("Text");e.stopPropagation(),e.preventDefault(),o&&(!this.config.allowNumbersOnly||this.validateNumber(o))&&this.setValue(o)}}return n.\u0275fac=function(e){return new(e||n)(t.rXU(Ot),t.rXU(a.qQ))},n.\u0275cmp=t.VBU({type:n,selectors:[["ng-otp-input"]],inputs:{config:"config",formCtrl:"formCtrl"},outputs:{onInputChange:"onInputChange"},decls:1,vars:1,consts:[["inp",""],[3,"class","id","ngStyle",4,"ngIf"],[3,"id","ngStyle"],["autocomplete","one-time-code",3,"pattern","type","placeholder","ngStyle","class","formControl","id","paste","keyup","input","keydown",4,"ngFor","ngForOf"],["autocomplete","one-time-code",3,"paste","keyup","input","keydown","pattern","type","placeholder","ngStyle","formControl","id"]],template:function(e,i){1&e&&t.DNE(0,qe,3,9,"div",1),2&e&&t.Y8G("ngIf",null==i.otpForm?null:i.otpForm.controls)},dependencies:[a.bT,a.B3,a.Sq,l.me,l.R_,l.BC,l.l_,Ot],styles:[".otp-input[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:4px;border:solid 1px #c5c5c5;text-align:center;font-size:32px}.ng-otp-input-wrapper[_ngcontent-%COMP%]   .otp-input[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 767px){.otp-input[_ngcontent-%COMP%]{width:40px;font-size:24px;height:40px}}@media screen and (max-width: 420px){.otp-input[_ngcontent-%COMP%]{width:30px;font-size:18px;height:30px}}"]}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({providers:[Ot],imports:[[a.MD,l.YN,l.X1]]}),n})();const Be=n=>({length:6,isPasswordInput:!0,disableAutoFocus:!0,containerClass:"d-flex flex-nowrap",inputClass:n}),Ne=()=>({minutes:2});function Ve(n,s){1&n&&(t.j41(0,"span",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"code-missing")))}function Ke(n,s){1&n&&(t.j41(0,"span",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"try-again")))}function Xe(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",3),t.DNE(1,Ve,3,3,"span",4)(2,Ke,3,3,"span",4),t.j41(3,"a",5),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.resend(o))}),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.invalid),t.R7$(),t.Y8G("ngIf",e.invalid),t.R7$(2),t.Lme("",t.bMT(5,4,"resend")," (",e.retryIn,"s)")}}function Ye(n,s){1&n&&(t.j41(0,"div")(1,"span",7),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.SpI("*",t.i5U(3,1,"locked.duration",t.lJ4(4,Ne)),""))}let Bt=(()=>{class n{constructor(e,i){this.dialog=e,this.api=i,this.inputChange=new t.bkB,this.secretKeyAdded=new t.bkB,this.retryLimit=300,this.invalid=!1,this.uncomplete=!1,this.retryIn=0,this.accountLocked=!1}onOtpChange(e){this.inputChange.emit(e)}showAccountLockedPopup(){this.dialog.open($e,{width:"428px",data:{mins:2,message:"Wrong requests too many times."}})}sendCode(){if(!this.email)return;if(!this.otpEndpoint)return void console.error("Endpoint is not set.");this.accountLocked&&this.showAccountLockedPopup(),this.updateSecretKey(""),this.ngOtpInput.setValue("");const i={email:this.email,hostName:window.location.origin};this.secretKey&&(i.secretKey=this.secretKey),this.api.post(this.otpEndpoint,i,v.w.au,{responseType:"text"}).pipe((0,T.W)(({error:o})=>(o=JSON.parse(o),o.detail?.startsWith("Email is restricted for about")&&this.handleAccountLocked(),(0,L.$)(()=>new Error(o.detail))))).subscribe(o=>{this.updateSecretKey(o),this.startRetryInterval()})}updateSecretKey(e){this.optSecretKey=e,this.secretKeyAdded.emit(this.optSecretKey)}resend(e){e.preventDefault(),!(this.retryIn>0)&&this.sendCode()}startRetryInterval(){clearInterval(this.retryIntervalId),this.retryIn=this.retryLimit,this.retryIntervalId=setInterval(()=>{this.retryIn-=1,this.retryIn<=0&&clearInterval(this.retryIntervalId)},1e3)}startAccountLockedInterval(){setTimeout(()=>{this.accountLocked=!1},12e4)}handleAccountLocked(){this.showAccountLockedPopup(),this.accountLocked=!0,this.startAccountLockedInterval(),this.ngOtpInput.otpForm.disable()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(mt.bZ),t.rXU(b.G))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-otp-input"]],viewQuery:function(i,o){if(1&i&&t.GBs(Ut,5),2&i){let r;t.mGM(r=t.lsd())&&(o.ngOtpInput=r.first)}},inputs:{email:"email",secretKey:"secretKey",otpEndpoint:"otpEndpoint"},outputs:{inputChange:"inputChange",secretKeyAdded:"secretKeyAdded"},decls:3,vars:5,consts:[["disabled","",1,"otp-input-container",3,"onInputChange","config"],["class","text-end resend-wrapper",4,"ngIf"],[4,"ngIf"],[1,"text-end","resend-wrapper"],["class","text-primary-400 me-2",4,"ngIf"],["href","#",3,"click"],[1,"text-primary-400","me-2"],[1,"text-danger"]],template:function(i,o){1&i&&(t.j41(0,"ng-otp-input",0),t.bIt("onInputChange",function(u){return o.onOtpChange(u)}),t.k0s(),t.DNE(1,Xe,6,6,"div",1)(2,Ye,4,5,"div",2)),2&i&&(t.Y8G("config",t.eq3(3,Be,o.invalid||o.uncomplete?"invalid":"")),t.R7$(),t.Y8G("ngIf",!o.accountLocked),t.R7$(),t.Y8G("ngIf",o.accountLocked))},dependencies:[a.bT,Ut,P.D9],styles:["[_nghost-%COMP%]     .otp-input{font-size:3.5rem!important;border:none!important;background-color:#0000000a;margin-right:.0625rem!important;height:3.5rem!important;width:16.66666667%!important;color:var(--primary-color)!important}[_nghost-%COMP%]     .otp-input:focus{outline:none}[_nghost-%COMP%]     .otp-input.invalid{background-color:#ff00000a!important;color:var(--accent-color)!important}"]})}return n})();const ze=["otpInput"];function We(n,s){1&n&&(t.j41(0,"div",12)(1,"span",13)(2,"mat-icon",14),t.EFF(3,"error_filled"),t.k0s()(),t.j41(4,"div",15)(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.j41(8,"span",16),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.EFF(11,"."),t.k0s()()()),2&n&&(t.R7$(6),t.SpI(" ",t.bMT(7,2,"account.locked-until")," "),t.R7$(3),t.SpI("2 ",t.bMT(10,4,"minutes"),""))}function Qe(n,s){if(1&n&&t.DNE(0,We,12,6,"div",11),2&n){const e=t.XpG();t.Y8G("ngIf",e.accountLocked)}}let Je=(()=>{class n extends H.e{constructor(e,i,o){super(),this.api=e,this.authUserService=i,this.authService=o,this.code="",this.trusted=!0,this.loading=!1,this.secretKey=""}ngAfterViewInit(){this.otpInput?.sendCode()}login(){!this.code||this.code.length<6?this.otpInput.uncomplete=!0:(this.loading=!0,this.api.post("check-otp-code",{secretKey:this.secretKey,code:this.code,rememberMe:this.trusted},v.w.au).pipe((0,T.W)(({error:{message:i}})=>(this.otpInput&&(this.otpInput.invalid=!0),(0,L.$)(()=>new Error(i))))).pipe((0,j.j)(()=>this.loading=!1)).subscribe(i=>{this.authUserService.setAuthToken(i.id_token).subscribe(),this.redirect()}))}onOtpChange(e){this.code=e}setSecretKey(e){this.secretKey=e}redirect(){this.loading=!0,this.api.get("security-questions",v.w.au).pipe((0,Z.Q)(this.destroy$),(0,j.j)(()=>this.loading=!1)).subscribe(e=>{const i=e.filter(o=>o.selected).length;return this.authService.redirectAfterLogin(i>=3)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(N.AuthUserService),t.rXU(It.u))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-code-login"]],viewQuery:function(i,o){if(1&i&&t.GBs(ze,5),2&i){let r;t.mGM(r=t.lsd())&&(o.otpInput=r.first)}},inputs:{email:"email"},features:[t.Vt3],decls:20,vars:16,consts:[["otpInput",""],["accountLockedRef",""],[1,"mt-3","mail-message"],[3,"submit"],["otpEndpoint","send-otp-code",3,"inputChange","secretKeyAdded","secretKey","email"],[1,"d-flex","trusted-device"],["type","checkbox","id","trusted-device","name","trusted",1,"form-check-input",3,"ngModelChange","ngModel"],["for","trusted-device",1,"ps-2"],[1,"d-flex","justify-content-center","mt-4.5","flex-column"],[1,"fs-s","mb-2","tnc",3,"innerHTML"],["type","submit",1,"btn","btn-primary","btn-auth",3,"appLoading"],["class","d-flex align-items-center alert alert-primary flex-grow-1 mt-5",4,"ngIf"],[1,"d-flex","align-items-center","alert","alert-primary","flex-grow-1","mt-5"],[1,"pe-3"],[1,"d-inline-flex","text-danger"],[1,"d-flex","flex-column"],[1,"text-decoration-underline"]],template:function(i,o){if(1&i){const r=t.RV6();t.j41(0,"p",2),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"form",3),t.bIt("submit",function(){return t.eBV(r),t.Njj(o.login())}),t.j41(4,"div")(5,"app-otp-input",4,0),t.bIt("inputChange",function(d){return t.eBV(r),t.Njj(o.onOtpChange(d))})("secretKeyAdded",function(d){return t.eBV(r),t.Njj(o.setSecretKey(d))}),t.k0s()(),t.j41(7,"div",5)(8,"input",6),t.mxI("ngModelChange",function(d){return t.eBV(r),t.DH7(o.trusted,d)||(o.trusted=d),t.Njj(d)}),t.k0s(),t.j41(9,"label",7),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.j41(12,"div",8),t.nrm(13,"label",9),t.nI1(14,"translate"),t.j41(15,"button",10),t.EFF(16),t.nI1(17,"translate"),t.k0s()()(),t.DNE(18,Qe,1,1,"ng-template",null,1,t.C5r)}2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,8,"login-otp-sent"),"\n"),t.R7$(4),t.Y8G("secretKey",o.secretKey)("email",o.email),t.R7$(3),t.R50("ngModel",o.trusted),t.R7$(2),t.JRh(t.bMT(11,10,"trusted-device")),t.R7$(3),t.Y8G("innerHTML",t.bMT(14,12,"dios.t&c"),t.npT),t.R7$(2),t.Y8G("appLoading",o.loading),t.R7$(),t.JRh(t.bMT(17,14,"common.login")))},dependencies:[a.bT,l.qT,l.Zm,l.BC,l.cb,l.vS,l.cV,I.G,m.An,Bt,P.D9],styles:["[_nghost-%COMP%]     .resend-wrapper{margin-top:2.625rem}.trusted-device[_ngcontent-%COMP%]{margin-top:8.75rem}@media screen and (min-width: 768px){.trusted-device[_ngcontent-%COMP%]{margin-top:7.5rem}}@media screen and (min-width: 992px){.trusted-device[_ngcontent-%COMP%]{margin-top:4.375rem}}.mail-message[_ngcontent-%COMP%]{margin-bottom:2.3125rem}.resend-wrapper[_ngcontent-%COMP%]{margin-top:2.625rem}"]})}return n})();const He=[[["","title",""]],"*",[["","bottom",""]]],Ze=["[title]","*","[bottom]"];let st=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-base"]],ngContentSelectors:Ze,decls:12,vars:0,consts:[[1,"d-flex","justify-content-center","fw-bold","welcome-title","my-md-5"],[1,"container-xl","content-container"],[1,"d-flex","flex-column","flex-md-row","justify-content-end","justify-content-xl-between","justify-content-md-around"],[1,"d-flex","justify-content-center","align-self-md-baseline","mx-md-5","pt-4","pt-xl-0flex-column"],[1,"d-flex","justify-content-center"],["src","assets/images/send_mail.png",1,"d-md-none","img-fluid"],["src","assets/images/send_mail_md.png",1,"d-none","d-md-flex","d-xl-none","img-fluid"],["src","assets/images/send_mail_large.png",1,"d-none","d-xl-flex","img-fluid"],[1,"d-flex","flex-column","section-fields"]],template:function(i,o){1&i&&(t.NAR(He),t.j41(0,"div",0),t.SdG(1),t.k0s(),t.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.nrm(6,"img",5)(7,"img",6)(8,"img",7),t.k0s()(),t.j41(9,"div",8),t.SdG(10,1),t.k0s()(),t.SdG(11,2),t.k0s())},styles:[".welcome-title[_ngcontent-%COMP%]{margin-top:.5rem}.content-container[_ngcontent-%COMP%]{max-width:1140px}[_nghost-%COMP%]     button.btn-auth{max-width:296px;width:100%;height:55px;font-size:1.5rem;border-radius:.25rem}@media screen and (min-width: 768px){[_nghost-%COMP%]     button.btn-auth{max-width:inherit}}.welcome-title[_ngcontent-%COMP%]{font-size:14px}@media screen and (min-width: 768px){.welcome-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-fields[_ngcontent-%COMP%]{max-width:380px;min-width:340px}}@media screen and (min-width: 1200px){.welcome-title[_ngcontent-%COMP%]{font-size:2.25rem}}"]})}return n})();function tn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"form",4),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.nextStep())}),t.j41(2,"div",5),t.nrm(3,"app-input",6),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",7)(6,"a",8),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",9)(10,"button",10),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.nrm(13,"app-sso-login"),t.k0s()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("formGroup",e.form),t.R7$(2),t.FS9("label",t.bMT(4,6,"email-label")),t.Y8G("control",e.form.controls.email),t.R7$(4),t.SpI("",t.bMT(8,8,"lost-email"),"?"),t.R7$(3),t.Y8G("appLoading",e.loading),t.R7$(),t.JRh(t.bMT(12,10,"common.continue"))}}function en(n,s){if(1&n&&t.nrm(0,"app-password-login",14),2&n){const e=t.XpG(2);t.Y8G("email",e.email)("hasOtherAccounts",e.hasOtherAccounts)}}function nn(n,s){if(1&n&&t.nrm(0,"app-code-login",15),2&n){const e=t.XpG(2);t.Y8G("email",e.email)}}function on(n,s){if(1&n&&(t.j41(0,"div",11),t.DNE(1,en,1,2,"app-password-login",12)(2,nn,1,1,"app-code-login",13),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf","PASSWORD"===e.type),t.R7$(),t.Y8G("ngIf","CODE"===e.type)}}let sn=(()=>{class n extends B{constructor(e,i,o,r,u){super(),this.api=i,this.authService=o,this.route=r,this.router=u,this.step=1,this.loading=!1,this.hasOtherAccounts=!1,this.formFields={email:["",[l.k0.required,l.k0.email]]},this._initFormControl(e,this.formFields)}ngOnInit(){const e=this.route.snapshot.queryParams.key;e&&this.loginWithKey(e)}nextStep(){this.form.invalid||(this.email=this.form.controls.email.value,this.loading=!0,this.api.get(`auth-mode/set?email=${this.email}`,v.w.usr).pipe((0,T.W)(({message:i})=>(setTimeout(()=>this.setError("email","not_found",i)),(0,L.$)(()=>new Error("Something bad happened; please try again later."))))).pipe((0,j.j)(()=>this.loading=!1)).subscribe(i=>{this.type=i?.mode,this.hasOtherAccounts=i?.hasOtherAccounts,this.step=2}))}loginWithKey(e){this.api.get("login",v.w.au,{params:{key:e}}).subscribe(i=>{this.authService.setAuthToken(i.id_token).subscribe(),this.router.navigate(["/"])})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(l.ok),t.rXU(b.G),t.rXU(N.AuthUserService),t.rXU(_.nX),t.rXU(_.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],features:[t.Vt3],decls:10,vars:6,consts:[["title",""],[1,"pt-5","pt-md-0"],[4,"ngIf"],["class","form-wrapper",4,"ngIf"],[3,"submit","formGroup"],[1,"d-flex","mt-5"],["type","email","name","email",1,"w-100",3,"label","control"],[1,"lost-email"],["routerLink","/auth/forgot/email"],[1,"d-flex","justify-content-center","mt-4.5"],["type","submit",1,"btn","btn-primary","btn-auth",3,"appLoading"],[1,"form-wrapper"],[3,"email","hasOtherAccounts",4,"ngIf"],[3,"email",4,"ngIf"],[3,"email","hasOtherAccounts"],[3,"email"]],template:function(i,o){1&i&&(t.j41(0,"app-base")(1,"span",0),t.EFF(2),t.k0s(),t.j41(3,"div")(4,"div",1)(5,"app-auth-dios"),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,tn,14,12,"div",2)(9,on,3,2,"div",3),t.k0s()()),2&i&&(t.R7$(2),t.SpI("","welcome","!"),t.R7$(4),t.JRh(t.bMT(7,4,"auth")),t.R7$(2),t.Y8G("ngIf",1===o.step),t.R7$(),t.Y8G("ngIf",2===o.step))},dependencies:[a.bT,_.Wk,l.qT,l.cb,I.G,l.j4,$.M,V.T,g.S,De,Je,st,P.D9],styles:["@media screen and (min-width: 768px){.form-wrapper[_ngcontent-%COMP%]{max-width:450px}}.lost-email[_ngcontent-%COMP%]{margin-top:2.2rem;text-align:right}app-sso-login[_ngcontent-%COMP%]{display:block;margin-top:55px}"]})}return n})();var Et=c(1626),kt=c(2255),Nt=c(34);const rn=["*"];let ft=(()=>{class n{constructor(){this.type="success"}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-alert"]],inputs:{type:"type"},standalone:!0,features:[t.aNF],ngContentSelectors:rn,decls:4,vars:2,consts:[["role","alert",1,"alert","alert-primary","d-flex","align-items-center"],["alt","service-icon",1,"rounded-circle",3,"src"],[1,"text-center","flex-grow-1","content"]],template:function(i,o){1&i&&(t.NAR(),t.j41(0,"div",0),t.nrm(1,"img",1),t.j41(2,"div",2),t.SdG(3),t.k0s()()),2&i&&(t.R7$(),t.Mz_("src","/assets/icons/",o.type,".svg",t.B4B))},styles:[".content[_ngcontent-%COMP%]{padding-right:2rem;padding-left:.81rem}@media screen and (max-width: 576px){.content[_ngcontent-%COMP%]{padding-right:.81rem}}"]})}return n})();const an=["otpInput"];function cn(n,s){1&n&&(t.j41(0,"div",4)(1,"app-auth-dios"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,1,"login")))}function ln(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.sendOtpCode())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("appLoading",e.loading),t.R7$(),t.SpI(" ",t.bMT(2,2,"send-otp")," ")}}function pn(n,s){1&n&&(t.j41(0,"button",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"reset")," "))}function un(n,s){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"div",5)(2,"span",6),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"p",7),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"div")(9,"form",8),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.resetEmail())}),t.j41(10,"div",9),t.nrm(11,"app-input",10),t.k0s(),t.j41(12,"div")(13,"p",11),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"div")(17,"app-otp-input",12,0),t.bIt("secretKeyAdded",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.setSecretKey(o))})("inputChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onOtpChange(o))}),t.k0s()()(),t.j41(19,"div",13),t.DNE(20,ln,3,4,"button",14)(21,pn,3,3,"button",15),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,10,"forgot-email.input-new")),t.R7$(3),t.SpI(" ",t.bMT(7,12,"forgot-email.import-history")," "),t.R7$(5),t.Y8G("control",e.form.controls.email),t.R7$(),t.AVh("d-none",!e.otpSent),t.R7$(2),t.SpI(" ",t.bMT(15,14,"confirmation-otp-sent")," "),t.R7$(3),t.Y8G("secretKey",e.questionSecretKey)("email",e.form.controls.email.value),t.R7$(3),t.Y8G("ngIf",!e.otpSent),t.R7$(),t.Y8G("ngIf",e.otpSent)}}function dn(n,s){1&n&&(t.j41(0,"div",18)(1,"app-alert",19),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",20)(5,"button",21),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&n&&(t.R7$(2),t.SpI("",t.bMT(3,2,"forgot-email.email-changed"),"!"),t.R7$(4),t.JRh(t.bMT(7,4,"login")))}let mn=(()=>{class n extends H.e{constructor(e,i,o){super(),this.api=e,this.fb=i,this.router=o,this.emailReset=!1,this.invalid=!1,this.otpSent=!1,this.loading=!1,this.code="",this.form=this.fb.nonNullable.group({email:["",[l.k0.required,l.k0.email]]})}resetEmail(){!this.code||this.code.length<6?this.otpInput.uncomplete=!0:this.api.post("reset-email/check-otp-code",{code:this.code,secretKey:this.secretKey},v.w.au).pipe((0,T.W)(()=>(0,L.$)(()=>new Error("Something bad happened; please try again later.")))).subscribe(()=>{this.emailReset=!0})}onOtpChange(e){this.code=e}setSecretKey(e){this.secretKey=e,this.otpSent=!!e}sendOtpCode(){this.form.markAllAsTouched(),this.form.valid&&this.otpInput?.sendCode()}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(l.ok),t.rXU(_.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-new-email"]],viewQuery:function(i,o){if(1&i&&t.GBs(an,5),2&i){let r;t.mGM(r=t.lsd())&&(o.otpInput=r.first)}},inputs:{email:"email",questionSecretKey:"questionSecretKey"},features:[t.Vt3],decls:3,vars:3,consts:[["otpInput",""],["class","pt-5 pt-md-0 d-none d-md-block",4,"ngIf"],[4,"ngIf"],["class","pt-5 pt-md-0 alert-message",4,"ngIf"],[1,"pt-5","pt-md-0","d-none","d-md-block"],[1,"pt-5","pt-md-0"],[1,"title"],[1,"mt-4.5","descr"],[3,"submit"],[1,"d-flex","mt-3.5"],["label","Your email address",1,"w-100",3,"control"],[1,"mt-3","mail-message"],["otpEndpoint","reset-email/send-otp-code",3,"secretKeyAdded","inputChange","secretKey","email"],[1,"d-flex","justify-content-center","mt-4.5"],["type","button","class","btn btn-primary btn-auth",3,"appLoading","click",4,"ngIf"],["type","submit","class","btn btn-primary btn-auth",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-auth",3,"click","appLoading"],["type","submit",1,"btn","btn-primary","btn-auth"],[1,"pt-5","pt-md-0","alert-message"],["type","success"],[1,"d-flex","justify-content-center","btn-wrapper"],["type","submit","routerLink","/auth/login",1,"btn","btn-primary","btn-auth"]],template:function(i,o){1&i&&t.DNE(0,cn,4,3,"div",1)(1,un,22,16,"div",2)(2,dn,8,6,"div",3),2&i&&(t.Y8G("ngIf",o.emailReset),t.R7$(),t.Y8G("ngIf",!o.emailReset),t.R7$(),t.Y8G("ngIf",o.emailReset))},dependencies:[a.bT,_.Wk,l.qT,l.cb,l.cV,I.G,V.T,ft,g.S,Bt,P.D9],styles:[".title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}.descr[_ngcontent-%COMP%]{margin-bottom:1.875rem;font-size:.875rem}.alert-message[_ngcontent-%COMP%]{padding-top:6.6875rem!important}.btn-wrapper[_ngcontent-%COMP%]{margin-top:8.625rem}@media screen and (min-width: 768px){.alert-message[_ngcontent-%COMP%]{padding-top:4.625rem!important}.btn-wrapper[_ngcontent-%COMP%]{margin-top:4rem}}"]})}return n})();var et=c(3719),Vt=c(9042),Kt=c(7403);function fn(n,s){if(1&n&&(t.j41(0,"div")(1,"div",6)(2,"div",7)(3,"mat-form-field",8)(4,"mat-label"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"textarea",9),t.EFF(8),t.k0s()()(),t.j41(9,"div",10),t.nrm(10,"app-input",11),t.nI1(11,"translate"),t.k0s()()()),2&n){const e=s.$implicit,i=s.index,o=t.XpG();t.R7$(5),t.Lme("",t.bMT(6,7,"question")," #",i+1,""),t.R7$(3),t.JRh(e.questionText),t.R7$(2),t.FCK("label","",t.bMT(11,9,"answer")," #",i+1,""),t.Y8G("control",o.form.controls.questions.at(i))}}let hn=(()=>{class n{constructor(e,i,o){this.api=e,this.errorService=i,this.fb=o,this.questions=[],this.submitted=new t.bkB,this.loading={verifying:!1},this.form=this.fb.group({questions:this.fb.array([])})}ngOnInit(){this.questions.forEach((e,i)=>{this.form.controls.questions.push(this.fb.nonNullable.control("",l.k0.required))})}submit(){if(this.form.invalid)return;this.questions.forEach((r,u)=>{this.questions[u].answer=this.form.controls.questions.at(u)?.value});const i={email:this.email,answers:this.questions},o={responseType:"text",context:(new Et._y).set(kt.Kq,!1)};this.loading.verifying=!0,this.api.post("reset-email/check-answers",i,v.w.au,o).pipe((0,T.W)(({error:r})=>{throw((r=JSON.parse(r)).violations||r.fieldErrors||[]).forEach(d=>{const f=d.field.match(/\[(\d)\]/)?.[1];f&&this.form.controls.questions.at(+f)?.setErrors({wrong_answer:"wrong_answer"})}),r})).pipe((0,j.j)(()=>this.loading.verifying=!1)).subscribe(r=>{this.submitted.emit(r)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(Nt.I),t.rXU(l.ok))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-login-questions"]],inputs:{email:"email",questions:"questions"},outputs:{submitted:"submitted"},decls:12,vars:9,consts:[[1,"title"],[3,"submit","formGroup"],[1,"d-flex","flex-column","security-questions","mt-3.5"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","btn-auth",3,"appLoading"],[1,"question-wrapper"],[1,"question"],["appearance","fill",1,"w-100"],["disabled","","cdkTextareaAutosize","","matInput",""],[1,"answer","w-100"],[1,"w-100",3,"label","control"]],template:function(i,o){1&i&&(t.j41(0,"div"),t.nrm(1,"mat-divider"),t.j41(2,"span",0),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"form",1),t.bIt("submit",function(){return o.submit()}),t.j41(6,"div",2),t.DNE(7,fn,12,11,"div",3),t.k0s(),t.j41(8,"div",4)(9,"button",5),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()()),2&i&&(t.R7$(3),t.JRh(t.bMT(4,5,"security-questions.title")),t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(2),t.Y8G("ngForOf",o.questions),t.R7$(2),t.Y8G("appLoading",o.loading.verifying),t.R7$(),t.SpI(" ",t.bMT(11,7,"common.continue")," "))},dependencies:[a.Sq,l.qT,l.cb,I.G,l.j4,Mt.q,g.S,et.rl,et.nJ,Vt.fg,Kt.xb,P.D9],styles:["[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#0000000a}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper{background-color:#f0672480}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-input-element, [_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mdc-floating-label, [_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-form-field-error{color:#e63b3b}@media screen and (min-width: 768px){[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper{background-color:#ff00000a}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-input-element, [_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mdc-floating-label, [_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-form-field-error{color:var(--error-color)}}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .question .mdc-floating-label{color:var(--primary-color);font-family:Roboto,serif;font-size:1.125rem}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-input-element{line-height:1.5;color:#0009}.question-wrapper[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{padding-top:.53125rem;padding-bottom:1.78rem}.title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}"]})}return n})();function gn(n,s){if(1&n&&(t.j41(0,"div"),t.nrm(1,"app-new-email",6),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("email",e.emailField.value)("questionSecretKey",e.secretKey)}}function _n(n,s){if(1&n&&(t.j41(0,"div"),t.DNE(1,gn,2,2,"div",5),t.k0s()),2&n){const e=t.XpG(),i=t.sdS(10);t.R7$(),t.Y8G("ngIf",e.questionVerified)("ngIfElse",i)}}function vn(n,s){if(1&n&&(t.j41(0,"p",16),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.JRh(e)}}function bn(n,s){if(1&n&&(t.j41(0,"div",14),t.DNE(1,vn,2,1,"p",15),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.errors)}}function yn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",17)(1,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.getQuestions())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(),t.Y8G("appLoading",e.loading.questions),t.R7$(),t.SpI(" ",t.bMT(3,2,"common.continue")," ")}}function wn(n,s){if(1&n){const e=t.RV6();t.j41(0,"app-login-questions",19),t.bIt("submitted",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.submit(o))}),t.k0s()}if(2&n){const e=t.XpG(2);t.Y8G("questions",e.questions)("email",e.emailField.value)}}function Cn(n,s){if(1&n&&(t.j41(0,"div")(1,"div",7)(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"div")(6,"div",9),t.nrm(7,"app-input",10),t.nI1(8,"translate"),t.k0s(),t.DNE(9,bn,2,1,"div",11)(10,yn,4,4,"div",12),t.k0s(),t.DNE(11,wn,1,2,"app-login-questions",13),t.k0s()),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,6,"forgot-email.current-email")),t.R7$(4),t.Y8G("label",t.bMT(8,8,"email-label"))("control",e.emailField),t.R7$(2),t.Y8G("ngIf",null==e.errors?null:e.errors.length),t.R7$(),t.Y8G("ngIf",!(null!=e.questions&&e.questions.length)),t.R7$(),t.Y8G("ngIf",null==e.questions?null:e.questions.length)}}function xn(n,s){1&n&&(t.j41(0,"div",20)(1,"app-alert",21),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",22)(5,"button",23),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&n&&(t.R7$(2),t.JRh(t.bMT(3,2,"forgot-email.updated")),t.R7$(4),t.JRh(t.bMT(7,4,"login")))}let In=(()=>{class n{constructor(e,i,o){this.api=e,this.errorService=i,this.route=o,this.emailField=new l.MJ("",{validators:[l.k0.required,l.k0.email],nonNullable:!0}),this.questionVerified=!1,this.emailResetCompleted=!1,this.questions=[],this.loading={questions:!1}}ngOnInit(){const e=this.route.snapshot.queryParams.key;e&&this.changeEmailWithKey(e)}submit(e){this.questionVerified=!0,this.secretKey=e}changeEmailWithKey(e){this.api.get("reset-email/set-new-email",v.w.au,{params:{key:e}}).subscribe(()=>{this.emailResetCompleted=!0})}getQuestions(){if(this.emailField.markAsTouched(),this.emailField.invalid)return;this.loading.questions=!0;const e={params:{email:this.emailField.value},context:(new Et._y).set(kt.Kq,!1)};this.api.get("reset-email",v.w.au,e).pipe((0,j.j)(()=>this.loading.questions=!1),(0,T.W)(i=>{throw this.errorService.getServerErrorMessage(i).then(o=>{this.errors=o}),i})).subscribe(i=>{this.errors=[],this.questions=i.answers})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(Nt.I),t.rXU(_.nX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-forgot-email"]],decls:13,vars:8,consts:[["questionsRef",""],["successMsgRef",""],["title",""],[1,"d-none","d-md-block"],[1,"d-md-none","d-sm-block"],[4,"ngIf","ngIfElse"],[3,"email","questionSecretKey"],[1,"pt-5","pt-md-0","d-md-none"],[1,"title"],[1,"d-flex","mt-3.5"],["type","email","placeholder","admin@zaidra.com","name","email",1,"w-100",3,"label","control"],["class","fs-s text-danger",4,"ngIf"],["class","d-flex justify-content-center mt-4.5",4,"ngIf"],[3,"questions","email","submitted",4,"ngIf"],[1,"fs-s","text-danger"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"d-flex","justify-content-center","mt-4.5"],[1,"btn","btn-primary","btn-auth",3,"click","appLoading"],[3,"submitted","questions","email"],[1,"pt-5","pt-md-0"],["type","success",1,"d-block","mb-5"],[1,"d-flex","justify-content-center","btn-wrapper"],["routerLink","/auth/login",1,"btn","btn-primary","btn-auth"]],template:function(i,o){if(1&i&&(t.j41(0,"app-base")(1,"span",2)(2,"span",3),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"span",4),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,_n,2,2,"div",5),t.k0s(),t.DNE(9,Cn,12,10,"ng-template",null,0,t.C5r)(11,xn,8,6,"ng-template",null,1,t.C5r)),2&i){const r=t.sdS(12);t.R7$(3),t.JRh(t.bMT(4,4,"forgot-email.current-email")),t.R7$(3),t.SpI("",t.bMT(7,6,"welcome"),"!"),t.R7$(2),t.Y8G("ngIf",!o.emailResetCompleted)("ngIfElse",r)}},dependencies:[a.Sq,a.bT,_.Wk,I.G,ft,g.S,mn,st,hn,P.D9],styles:[".title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600}[_nghost-%COMP%]     .mat-divider.mat-divider-horizontal{margin:1.5rem -1rem 2.375rem}@media screen and (min-width: 768px){[_nghost-%COMP%]     .mat-divider.mat-divider-horizontal{margin:1.9rem 0 2.4375rem}}"]})}return n})();function Mn(n,s){1&n&&(t.j41(0,"div")(1,"div",5)(2,"app-alert",6),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&n&&(t.R7$(3),t.SpI("",t.bMT(4,1,"reset-password.check-email"),"."))}function On(n,s){if(1&n){const e=t.RV6();t.j41(0,"p",7),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",8),t.nrm(4,"app-input",9),t.k0s(),t.j41(5,"div",10)(6,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"reset-password.input-email")," "),t.R7$(3),t.Y8G("control",e.form.controls.email),t.R7$(2),t.Y8G("appLoading",e.loading),t.R7$(),t.JRh(t.bMT(8,6,"reset-password.reset"))}}let En=(()=>{class n extends H.e{constructor(e,i){super(),this.api=e,this.fb=i,this.sent=!1,this.loading=!1,this.form=this.fb.group({email:["",[l.k0.required,l.k0.email]],hostName:window.location.origin})}reset(){this.form.valid&&(this.loading=!0,this.api.post("account/reset-password/start",this.form.value,v.w.usr).pipe((0,j.j)(()=>this.loading=!1)).subscribe(()=>{this.sent=!0}))}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(l.ok))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-forgot-password"]],features:[t.Vt3],decls:13,vars:9,consts:[["resetPassword",""],["title",""],[3,"formGroup"],[1,"pt-5","pt-md-0"],[4,"ngIf","ngIfElse"],[1,"alert-wrapper"],["type","success"],[1,"mt-4","mt-md-3","mb-0"],[1,"d-flex","field-wrapper"],["type","email","name","email","label","Email address",1,"w-100",3,"control"],[1,"d-flex","justify-content-center","btn-wrapper","reset-btn-wrapper"],[1,"btn","btn-primary","btn-auth",3,"click","appLoading"]],template:function(i,o){if(1&i&&(t.j41(0,"app-base")(1,"span",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div")(5,"form",2)(6,"div",3)(7,"app-auth-dios"),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,Mn,5,3,"div",4),t.k0s()()(),t.DNE(11,On,9,8,"ng-template",null,0,t.C5r)),2&i){const r=t.sdS(12);t.R7$(2),t.SpI("",t.bMT(3,5,"welcome"),"!"),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(3),t.JRh(t.bMT(9,7,"auth-title")),t.R7$(2),t.Y8G("ngIf",o.sent)("ngIfElse",r)}},dependencies:[a.bT,l.qT,l.cb,I.G,l.j4,V.T,ft,g.S,st,P.D9],styles:[".alert-wrapper[_ngcontent-%COMP%]{margin-top:6.625rem;margin-bottom:3.125rem}.btn-wrapper[_ngcontent-%COMP%]{margin-top:6.4rem}.field-wrapper[_ngcontent-%COMP%]{margin-top:3.0625rem}@media screen and (min-width: 768px){.field-wrapper[_ngcontent-%COMP%]{margin-top:3.6875rem}}"]})}return n})();var Rt=c(64);const kn=n=>({sites:n});function Rn(n,s){if(1&n&&(t.j41(0,"span",9),t.nrm(1,"br")(2,"br"),t.EFF(3),t.nI1(4,"translate"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(3),t.SpI(" ",t.i5U(4,1,"zaidra-network.same-pw-for-network",t.eq3(4,kn,e.prevWebsiteUserLoggedIn))," ")}}function Pn(n,s){if(1&n&&(t.j41(0,"div")(1,"div",5)(2,"app-alert"),t.EFF(3),t.nI1(4,"translate"),t.DNE(5,Rn,5,6,"span",6),t.k0s()(),t.j41(6,"div",7)(7,"button",8),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,3,"reset-password.updated")," "),t.R7$(2),t.Y8G("ngIf",e.prevWebsiteUserLoggedIn),t.R7$(3),t.JRh(t.bMT(9,5,"login"))}}function Tn(n,s){if(1&n){const e=t.RV6();t.j41(0,"p",10),t.EFF(1),t.nI1(2,"translate"),t.k0s(),t.j41(3,"div",11),t.nrm(4,"app-input",12),t.nI1(5,"translate"),t.j41(6,"p",13),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"div",14),t.nrm(10,"app-input",15),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",16)(13,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())}),t.EFF(14),t.nI1(15,"translate"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.SpI("",t.bMT(2,8,"reset-password.reset-your"),"."),t.R7$(3),t.Y8G("label",t.bMT(5,10,"reset-password.type_password"))("control",e.form.controls.password),t.R7$(3),t.SpI(" ",t.bMT(8,12,"password_requirements")," "),t.R7$(3),t.Y8G("label",t.bMT(11,14,"reset-password.retype_password"))("control",e.form.controls.repeatPassword),t.R7$(3),t.Y8G("appLoading",e.loading),t.R7$(),t.JRh(t.bMT(15,16,"reset-password.set-new"))}}let Fn=(()=>{class n extends H.e{constructor(e,i,o){super(),this.api=e,this.route=i,this.fb=o,this.done=!1,this.loading=!1,this.prevWebsiteUserLoggedIn="",this.form=this.fb.group({password:["",[Rt.a.passwordStrength]],repeatPassword:["",[l.k0.required,Rt.a.match("password")]]})}reset(){if(this.form.markAllAsTouched(),!this.form.valid)return;this.loading=!0;const e={...this.form.value,key:this.route.snapshot.params.key};this.api.post("account/reset-password/end",e,v.w.usr).pipe((0,j.j)(()=>this.loading=!1)).subscribe(i=>{this.done=!0,this.prevWebsiteUserLoggedIn=i?.join(", ")??""})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(_.nX),t.rXU(l.ok))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-reset-password"]],features:[t.Vt3],decls:13,vars:9,consts:[["passwordTmpl",""],["title",""],[3,"formGroup"],[1,"pt-5","pt-md-0"],[4,"ngIf","ngIfElse"],[1,"alert-wrapper"],["class","login-history",4,"ngIf"],[1,"d-flex","justify-content-center"],["routerLink","/auth/login",1,"btn","btn-primary","btn-auth"],[1,"login-history"],[1,"mt-3","mb-0"],[1,"d-flex","flex-column","mt-md-5","mt-6"],["type","password","name","password",1,"w-100",3,"label","control"],[1,"d-block","fs-xs","mt-1",2,"color","#707070"],[1,"d-flex","retype-pw"],["type","password","name","confirmPassword",1,"w-100",3,"label","control"],[1,"d-flex","justify-content-center","reset-pw-wrapper"],[1,"btn","btn-primary","btn-auth",3,"click","appLoading"]],template:function(i,o){if(1&i&&(t.j41(0,"app-base")(1,"span",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div")(5,"form",2)(6,"div",3)(7,"app-auth-dios"),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.DNE(10,Pn,10,7,"div",4),t.k0s()()(),t.DNE(11,Tn,16,18,"ng-template",null,0,t.C5r)),2&i){const r=t.sdS(12);t.R7$(2),t.SpI("",t.bMT(3,5,"welcome"),"!"),t.R7$(3),t.Y8G("formGroup",o.form),t.R7$(3),t.JRh(t.bMT(9,7,"auth")),t.R7$(2),t.Y8G("ngIf",o.done)("ngIfElse",r)}},dependencies:[a.bT,_.Wk,l.qT,l.cb,I.G,l.j4,V.T,ft,g.S,st,P.D9],styles:["[_nghost-%COMP%]     .alert.alert-primary{align-items:start!important}.retype-pw[_ngcontent-%COMP%]{margin-top:1.375rem}@media screen and (min-width: 768px){.retype-pw[_ngcontent-%COMP%]{margin-top:.469rem}}.alert-wrapper[_ngcontent-%COMP%]{padding-top:6.63rem;padding-bottom:6.25rem}@media screen and (min-width: 768px){.alert-wrapper[_ngcontent-%COMP%]{padding-bottom:2.125rem}}.reset-pw-wrapper[_ngcontent-%COMP%]{margin-top:5.844rem}@media screen and (max-width: 300px){.reset-pw-wrapper[_ngcontent-%COMP%]   .btn-auth[_ngcontent-%COMP%]{font-size:20px;white-space:nowrap}}@media screen and (min-width: 768px){.reset-pw-wrapper[_ngcontent-%COMP%]{margin-top:4.219rem}}.login-history[_ngcontent-%COMP%]{overflow-wrap:anywhere;white-space:break-spaces}"]})}return n})();var jn=c(5567),Sn=c(9183);let Gn=(()=>{class n{constructor(){this.disabled=!1,this.selected=new t.bkB}click(){this.selected.emit()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-question"]],inputs:{title:"title",text:"text",number:"number",checked:"checked",disabled:"disabled"},outputs:{selected:"selected"},decls:6,vars:5,consts:[["appearance","fill",1,"w-100",3,"subscriptSizing"],["disabled","","cdkTextareaAutosize","","matInput","",1,"overflow-hidden"],["type","radio","mat-icon-button","","matSuffix","",1,"form-check-input","cur-pointer",3,"click","checked","disabled"]],template:function(i,o){1&i&&(t.j41(0,"mat-form-field",0)(1,"mat-label"),t.EFF(2),t.k0s(),t.j41(3,"textarea",1),t.EFF(4),t.k0s(),t.j41(5,"input",2),t.bIt("click",function(){return o.click()}),t.k0s()()),2&i&&(t.Y8G("subscriptSizing","dynamic"),t.R7$(2),t.JRh(o.title),t.R7$(2),t.JRh(o.text),t.R7$(),t.Y8G("checked",!1!==o.checked)("disabled",o.disabled))},dependencies:[et.rl,et.nJ,et.yw,Vt.fg,Kt.xb],encapsulation:2})}return n})(),An=(()=>{class n{constructor(e){this.el=e}ngAfterViewInit(){this.resize()}onClick(){this.resize()}onResize(){this.resize()}resize(){const i=parseInt(window.getComputedStyle(this.el.nativeElement.parentElement).getPropertyValue("grid-auto-rows")),o=this.el.nativeElement.firstChild.getBoundingClientRect().height,r=Math.ceil(o/i);this.el.nativeElement.style.gridRowEnd=`span ${r}`}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:n,selectors:[["","appMasonryResize",""]],hostBindings:function(i,o){1&i&&t.bIt("click",function(){return o.onClick()})("resize",function(){return o.onResize()},!1,t.tSv)}})}return n})();const ht=n=>({i:n}),Xt=(n,s)=>({required:n,whitespace:s});function Dn(n,s){1&n&&t.nrm(0,"mat-spinner",8)}function $n(n,s){if(1&n&&(t.nrm(0,"app-input",16),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate")),2&n){const e=t.XpG(),i=e.$implicit,o=e.index,r=t.XpG(2);t.Y8G("label",t.i5U(1,4,"security-questions.answer",t.eq3(11,ht,o+1)))("control",r.answers.controls[i.questionId])("subscriptSizing","dynamic")("errors",t.l_i(13,Xt,t.bMT(2,7,"security-questions.ans_required"),t.bMT(3,9,"security-questions.ans_required")))}}function Ln(n,s){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"div",13)(2,"app-question",14),t.nI1(3,"translate"),t.bIt("selected",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.selectQuestion(o))}),t.k0s(),t.DNE(4,$n,4,16,"app-input",15),t.k0s()()}if(2&n){const e=s.$implicit,i=s.index,o=t.XpG(2);t.R7$(2),t.Y8G("title",t.i5U(3,5,"security-questions.question",t.eq3(8,ht,i+1)))("text",e.questionText)("checked",e.selected)("disabled",o.selectedQuestionsCount>=3&&!e.selected),t.R7$(2),t.Y8G("ngIf",e.selected)}}function qn(n,s){if(1&n&&(t.j41(0,"div",9),t.nrm(1,"mat-divider"),t.j41(2,"div",10)(3,"div",11),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.DNE(6,Ln,5,10,"div",12),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.SpI(" ",t.bMT(5,2,"security-questions.select")," "),t.R7$(2),t.Y8G("ngForOf",e.questions.slice(0,3))}}function Un(n,s){if(1&n&&(t.nrm(0,"app-input",27),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate")),2&n){const e=t.XpG(),i=e.$implicit,o=e.index,r=t.XpG(2);t.Y8G("label",t.i5U(1,3,"security-questions.answer",t.eq3(10,ht,o+1)))("control",r.answers.controls[i.questionId])("errors",t.l_i(12,Xt,t.bMT(2,6,"security-questions.ans_required"),t.bMT(3,8,"security-questions.ans_required")))}}function Bn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"app-question",14),t.nI1(3,"translate"),t.bIt("selected",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.selectQuestion(o))}),t.k0s(),t.DNE(4,Un,4,15,"app-input",26),t.k0s()()}if(2&n){const e=s.$implicit,i=s.index,o=t.XpG(2);t.AVh("d-xl-none",i<3),t.R7$(2),t.Y8G("title",t.i5U(3,7,"security-questions.question",t.eq3(10,ht,i+1)))("text",e.questionText)("checked",e.selected)("disabled",o.selectedQuestionsCount>=3&&!e.selected),t.R7$(2),t.Y8G("ngIf",e.selected)}}function Nn(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",17)(1,"div",18)(2,"div",19),t.nrm(3,"mat-divider"),t.k0s(),t.j41(4,"div",11),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",20),t.DNE(8,Bn,5,12,"div",21),t.k0s()(),t.j41(9,"div",22)(10,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.save())}),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(5),t.SpI(" ",t.bMT(6,4,"security-questions.select")," "),t.R7$(3),t.Y8G("ngForOf",e.questions),t.R7$(2),t.Y8G("appLoading",e.loading.saving),t.R7$(),t.JRh(t.bMT(12,6,"common.save"))}}let Vn=(()=>{class n extends H.e{constructor(e,i,o,r){super(),this.api=e,this.notifier=i,this.authService=o,this.translateService=r,this.questions=[],this.loading={saving:!1},this.selectedQuestionsCount=0,this.answers=new l.AG({}),this.previousAnswers={}}ngOnInit(){this.fetchAnswers(),this.fetchQuestions()}selectQuestion(e){e.selected=!e.selected,this.selectedQuestionsCount=this.questions.filter(i=>i.selected).length,e.selected?this.answers.addControl(e.questionId,this.getNewAnswerControl(e.questionId)):this.answers.removeControl(e.questionId)}skipQts(){return this.authService.redirectAfterLogin()}save(){const e=this.questions.filter(i=>i.selected).map(i=>i.questionId);e.length<3?this.notifier.showError([this.translateService.instant("security-questions.atleast-3")]):(this.answers.markAllAsTouched(),!this.answers.invalid&&(this.loading.saving=!0,this.saveQuestions(e).subscribe(()=>{this.saveAnswers().subscribe(()=>this.authService.redirectAfterLogin())})))}saveAnswers(){const e=Object.entries(this.answers.controls).map(([i,o])=>({questionId:i,answer:o.value}));return this.api.put("security-questions/answers",{answers:e},v.w.au).pipe((0,Z.Q)(this.destroy$),(0,j.j)(()=>this.loading.saving=!1))}saveQuestions(e){return this.api.post("security-questions",{questions:e},v.w.au).pipe((0,Z.Q)(this.destroy$))}fetchQuestions(){this.api.get("security-questions",v.w.au).pipe((0,Z.Q)(this.destroy$)).subscribe(e=>{this.questions=e,this.selectedQuestionsCount=this.questions.filter(i=>i.selected).length,this.questions.filter(i=>i.selected).forEach(i=>{this.answers.addControl(i.questionId,this.getNewAnswerControl(i.questionId))})})}fetchAnswers(){const e=(new Et._y).set(kt.Kq,!1);this.api.get("security-questions/answers",v.w.au,{context:e}).pipe((0,Z.Q)(this.destroy$)).subscribe(i=>{i?.forEach(o=>{this.previousAnswers[o.questionId]=o.answer,this.answers.controls[o.questionId]?.setValue(o.answer)})})}getNewAnswerControl(e){return new l.MJ(this.previousAnswers[e],[l.k0.required,Rt.a.whitespace])}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(b.G),t.rXU(jn.J),t.rXU(It.u),t.rXU(P.c$))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-questions"]],features:[t.Vt3],decls:19,vars:15,consts:[["title",""],[1,"pt-5","pt-md-0"],[1,"mb-0","descr"],[1,"d-flex","justify-content-end"],[1,"mt-3","btn","btn-primary","skip-btn",3,"click"],["diameter","26","class","mt-4",4,"ngIf"],["class","d-xl-block d-none",4,"ngIf"],["bottom","",4,"ngIf"],["diameter","26",1,"mt-4"],[1,"d-xl-block","d-none"],[1,"security-questions"],[1,"question-heading"],[4,"ngFor","ngForOf"],[1,"question"],[3,"selected","title","text","checked","disabled"],["class","w-100 answer mt-1u d-block",3,"label","control","subscriptSizing","errors",4,"ngIf"],[1,"w-100","answer","mt-1u","d-block",3,"label","control","subscriptSizing","errors"],["bottom",""],[1,"security-questions","bottom","d-flex","align-items-center","flex-column"],[1,"divider"],[1,"bottom-questions-wrapper"],["class","question-wrapper","appMasonryResize","",3,"d-xl-none",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","btn-wrapper"],[1,"btn","btn-primary","btn-auth",3,"click","appLoading"],["appMasonryResize","",1,"question-wrapper"],[1,"question","w-100"],["class","w-100 answer mt-1u d-block",3,"label","control","errors",4,"ngIf"],[1,"w-100","answer","mt-1u","d-block",3,"label","control","errors"]],template:function(i,o){1&i&&(t.j41(0,"app-base")(1,"span",0),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div")(5,"div",1)(6,"app-auth-dios"),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"p",2),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"div",3)(13,"button",4),t.bIt("click",function(){return o.skipQts()}),t.EFF(14),t.nI1(15,"translate"),t.k0s()(),t.DNE(16,Dn,1,0,"mat-spinner",5)(17,qn,7,4,"div",6),t.k0s(),t.DNE(18,Nn,13,8,"div",7),t.k0s()),2&i&&(t.R7$(2),t.SpI("",t.bMT(3,7,"welcome"),"!"),t.R7$(5),t.SpI("\xa0",t.bMT(8,9,"security-questions.title"),""),t.R7$(3),t.SpI(" ",t.bMT(11,11,"security-questions.missing")," "),t.R7$(4),t.JRh(t.bMT(15,13,"security-questions.skip-btn")),t.R7$(2),t.Y8G("ngIf",!o.questions.length),t.R7$(),t.Y8G("ngIf",o.questions.length),t.R7$(),t.Y8G("ngIf",o.questions.length))},dependencies:[a.Sq,a.bT,I.G,Sn.LG,Mt.q,V.T,g.S,st,Gn,An,P.D9],styles:["[_nghost-%COMP%]     .mat-divider.mat-divider-horizontal{margin:2.875rem -1rem 2.375rem}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:#0000000a}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding-right:12px}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-infix{padding-bottom:12px}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{margin-top:8px}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-form-field-flex{background-color:#ff00000a}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-form-field-subscript-wrapper{top:calc(100% - .5em)}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-input-element{color:var(--error-color)}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .question .mdc-floating-label{color:var(--primary-color);font-family:Roboto,serif;font-size:1.125rem}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .answer .mdc-floating-label{color:#0009}[_nghost-%COMP%]   .security-questions[_ngcontent-%COMP%]     .mat-mdc-input-element{line-height:1.5;color:#0009}.question-heading[_ngcontent-%COMP%]{font-size:18px;font-weight:600;padding-bottom:24.5px}.question[_ngcontent-%COMP%]{padding-bottom:30px}.btn-wrapper[_ngcontent-%COMP%]{padding-top:33px}.btn-wrapper[_ngcontent-%COMP%]   .btn-auth[_ngcontent-%COMP%]{max-width:296px!important}.descr[_ngcontent-%COMP%]{margin-top:1.625rem}.question-wrapper[_ngcontent-%COMP%]{flex:50%;width:100%}.question-wrapper[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{max-width:380px}.divider[_ngcontent-%COMP%]{width:100%;max-width:80%}.bottom[_ngcontent-%COMP%]   .bottom-questions-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);column-gap:96px;width:100%;grid-auto-rows:10px}.bottom[_ngcontent-%COMP%]   .bottom-questions-wrapper[_ngcontent-%COMP%]   .question-wrapper[_ngcontent-%COMP%]   .question[_ngcontent-%COMP%]{max-width:100%}.bottom[_ngcontent-%COMP%]   .question-heading[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 768px){.bottom[_ngcontent-%COMP%]   .bottom-questions-wrapper[_ngcontent-%COMP%]{justify-content:center;grid-template-columns:repeat(2,minmax(220px,380px))}.bottom[_ngcontent-%COMP%]   .question-heading[_ngcontent-%COMP%]{width:inherit;margin-bottom:52px}}@media screen and (min-width: 1200px){.bottom[_ngcontent-%COMP%]{margin-left:3rem}.bottom[_ngcontent-%COMP%]   .bottom-questions-wrapper[_ngcontent-%COMP%]{justify-content:space-between}.bottom[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]   .question-heading[_ngcontent-%COMP%]{display:none}}.skip-btn[_ngcontent-%COMP%]{width:120px}"]})}return n})(),gt=(()=>{class n{constructor(e,i){this.router=e,this.localStorage=i}canActivate(){return!this.localStorage.token||this.router.navigate(["/"])}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(_.Ix),t.KVO(qt.s))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Xn=[{path:"",component:O,children:[{path:"login",component:sn,canActivate:[gt]},{path:"questions",component:Vn,canActivate:[c(4978).q]},{path:"forgot/email",component:In,canActivate:[gt]},{path:"forgot/password",component:En,canActivate:[gt]},{path:"reset/password/:key",component:Fn,canActivate:[gt]}]}];let Yn=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[_.iI.forChild(Xn),_.iI]})}return n})();var zn=c(3153),Yt=c(1548),zt=c(7673);const Wn=JSON.parse('{"auth-title":"Auth","account":{"locked-until":"For security reasons, your account is locked for","create-new":"If you lost access to the account, you can create a new one","create-title":"Create account"},"minutes":"minutes","locked":{"duration":"Account is locked for {{minutes}} minutes"},"confirmation-otp-sent":"We\'ve sent you a code on email, so please fill in the field bellow. (Optional: You have a link in the email as alternate confirmation)","send-otp":"Send OTP code","security-questions":{"title":"Security questions","select":"Select 3 security questions","missing":"As an increased security measure please set up the answers to 3 of the following security questions. You can skip this step for now, although this is not recommended, because if you lose access to your email address you won\'t be able to recover the access to your account.","skip-btn":"Skip for now","ans_required":"The answer to the question should not be empty","atleast-3":"Choose at least 3 questions.","question":"Question #{{i}}","answer":"Answer #{{i}}"},"question":"Question","answer":"Answer","reset-password":{"reset":"Reset password","reset-your":"Reset your password","check-email":"Please check your email to access the reset password link","input-email":"Type your email address to reset the password.","updated":"Your password has been changed successfully!","set-new":"Set a new password","type_password":"Type your new password","retype_password":"Repeat your new password"},"forgot-email":{"current-email":"Current email address","updated":"Your email address has been changed successfully!","input-new":"Set a new email address","import-history":"The history and all the details will be imported from the lost one.","email-changed":"Your email address has been changed successfully"},"email-label":"Email address","zaidra-network":{"account-exist":"This site is part of the Za\xeddra network, and seems that you already have an account set-up with a password on another site from the network.","same-pw-for-network":"Please note that you can use the same password on all the websites from Za\xeddra Network where you previously login: {{sites}} etc."},"existing_account":"online store where you already have an account set up with a password","same_email":"Therefore, you can use the same email address and password for authentication, your data being safe on all sites within the Za\xeddra network.","password_requirements":"The password must be at least 8 characters long and it must have at least one uppercase letter, one lowercase letter, one digit and one special character."}'),Qn=JSON.parse('{"auth-title":"Autentificare","account":{"locked-until":"Din motive de securitate, contul t\u0103u este blocat pentru","create-new":"Dac\u0103 ai pierdut accesul la cont, \xee\u021bi po\u021bi crea unul nou","create-title":"Creeaz\u0103 cont"},"minutes":"minute","locked":{"duration":"Contul este blocat timp de {{minutes}} minute"},"confirmation-otp-sent":"\u021ai-am trimis un cod pe e-mail, a\u0219a c\u0103 te rug\u0103m s\u0103 completezi c\xe2mpul de mai jos. (Op\u021bional: ai un link \xeen e-mail ca \u0219i confirmare alternativ\u0103)","send-otp":"Trimite codul OTP","security-questions":{"title":"\xcentreb\u0103ri de securitate","select":"Selecteaz\u0103 3 \xeentreb\u0103ri de securitate","missing":"Pentru o securitate sporita te rug\u0103m s\u0103 setezi r\u0103spunsurile la 3 \xeentreb\u0103ri de securitate dintre cele de mai jos. Po\u021bi s\u0103ri peste acest pas, \xeens\u0103 nu este recomandat, deoarece, dac\u0103 \xee\u021bi pierzi accesul la adresa de email, nu te \xee\u021bi vei mai putea recupera contul.","skip-btn":"Mai t\xe2rziu","ans_required":"R\u0103spunsul la \xeentrebarea de securitate nu poate fi gol.","atleast-3":"Alege cel pu\u021bin 3 \xeentreb\u0103ri.","question":"\xcentrebarea #{{i}}","answer":"R\u0103spunsul #{{i}}"},"question":"\xcentrebare","answer":"R\u0103spuns","reset-password":{"reset":"Reseteaz\u0103 parola","reset-your":"Reseteaz\u0103 parola","check-email":"Te rug\u0103m s\u0103-\u021bi verifici e-mailul pentru a accesa linkul de resetare a parolei","input-email":"Introdu adresa de e-mail pentru a reseta parola.","updated":"Parola ta a fost schimbat\u0103 cu succes!","set-new":"Seteaz\u0103 o nou\u0103 parol\u0103","type_password":"Scrie noua ta parol\u0103","retype_password":"Rescrie noua ta parol\u0103"},"forgot-email":{"current-email":"Adres\u0103 de e-mail curent\u0103","updated":"Adresa ta de e-mail a fost schimbat\u0103 cu succes!","input-new":"Seteaz\u0103 o nou\u0103 adres\u0103 de e-mail","import-history":"Istoricul \u0219i toate detaliile vor fi importate din cel pierdut.","email-changed":"Adresa de e-mail a fost schimbat\u0103 cu succes"},"email-label":"Adresa de e-mail","zaidra-network":{"account-exist":"Acest magazin face parte din re\u021beaua Za\xeddra \u0219i se pare c\u0103 ave\u021bi deja un cont configurat cu o parol\u0103 pe un alt magazin din re\u021bea.","same-pw-for-network":"Te rug\u0103m s\u0103 re\u021bii c\u0103 po\u021bi utiliza aceea\u0219i parol\u0103 pe toate magazinele din re\u021beaua Za\xeddra unde te-ai autentificat anterior: {{sites}} etc."},"existing_account":"magazin unde ai deja un cont configurat cu o parol\u0103","same_email":"Prin urmare, po\u021bi utiliza aceea\u0219i adres\u0103 de e-mail \u0219i aceea\u0219i parol\u0103 pentru autentificare, datele tale fiind \xeen siguran\u021b\u0103 pe toate magazinele din platforma Za\xeddra.","password_requirements":"Parola trebuie s\u0103 aib\u0103 minim 8 caractere \u0219i cel pu\u021bin o liter\u0103 mare, o liter\u0103 mic\u0103, o cifr\u0103 si un caracter special."}');let Jn=(()=>{class n{getTranslation(e){switch(e){case Yt.T.En:return(0,zt.of)(Wn);case Yt.T.Ro:return(0,zt.of)(Qn);default:throw Error(`Unsupported language: ${e}`)}}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hn=c(3887);let Zn=(()=>{class n{constructor(e){const i=e.defaultLang;e.currentLang="",e.use(i)}static#t=this.\u0275fac=function(i){return new(i||n)(t.KVO(P.c$))};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[a.MD,Yn,Ue,l.YN,P.h,Hn.G,$.M,g.S,et.RG,P.h.forChild({isolate:!1,extend:!0,loader:{provide:P.Wr,useClass:Jn},missingTranslationHandler:{provide:P.er,useClass:zn.p}})]})}return n})()},1548:(W,k,c)=>{c.d(k,{T:()=>a});var a=function(_){return _.En="en",_.Ro="ro",_}(a||{})},4978:(W,k,c)=>{c.d(k,{q:()=>p});var a=c(4438),_=c(4710),t=c(9879);let p=(()=>{class m{constructor(O,l,B){this.router=O,this.route=l,this.ls=B}canActivate(O,l){return!!this.ls.token||(this.router.navigate(["/auth/login"],{queryParams:{ref:l.url}}),!1)}static#t=this.\u0275fac=function(l){return new(l||m)(a.KVO(_.Ix),a.KVO(_.nX),a.KVO(t.s))};static#e=this.\u0275prov=a.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7938:(W,k,c)=>{c.r(k),c.d(k,{AuthUserService:()=>v});var a=c(4412),_=c(983),t=c(980),p=c(8141),m=c(8720),w=c(2255),O=c(1626),l=c(4438),B=c(6344),L=c(9879),T=c(6042),j=c(9636);let v=(()=>{class b{constructor(I,$,V,g){this.api=I,this.localStorage=$,this.cartService=V,this.favoriteService=g,this.userSource=new a.t(void 0),this.pendingRequests={authUser:!1},this.authUser=this.userSource.asObservable()}fetchAuthUser(){if(!this.localStorage.token)return this.userSource.next(null),_.w;this.pendingRequests.authUser=!0;const I={context:(new O._y).set(w.Kq,!1).set(w.RD,!1)};return this.api.get("account",m.w.usr,I).pipe((0,t.j)(()=>this.pendingRequests.authUser=!1)).pipe((0,p.M)($=>this.userSource.next($)))}getAuthUser(){return void 0===this.userSource.value&&!this.pendingRequests.authUser&&this.fetchAuthUser().subscribe(),this.authUser}logoutAuthUser(){this.localStorage.token=null,typeof document<"u"&&(document.cookie="AUTH_TOKEN="),this.userSource.next(null),this.cartService.fetchCart()}setAuthToken(I){return this.localStorage.token=I,document.cookie=`AUTH_TOKEN=${I}`,this.cartService.fetchCart(),this.favoriteService.saveAllFavorites(),this.fetchAuthUser()}static#t=this.\u0275fac=function($){return new($||b)(l.KVO(B.G),l.KVO(L.s),l.KVO(T.m),l.KVO(j.U))};static#e=this.\u0275prov=l.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},64:(W,k,c)=>{c.d(k,{a:()=>_});var a=c(9417);class _{static match1(p,m){return w=>(w?.setErrors(m?.controls[p]?.value!==w.value?{match:!0}:null),null)}static match(p){return m=>{if(!m.parent)return null;const O=m.parent.get(p);return m.value!==O?.value?{not_match:!0}:null}}static requiredIf(p,m){return w=>{if(!w.parent)return null;const l=w.parent.get(p);return m===l?.value?a.k0.required(w):null}}static passwordStrength(p){return/^(?=.{8,})(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&-+=()!*_?]).*$/g.test(p.value||"")?null:{invalid_password:!0}}static whitespace(p){return!p.value||p.value.trim()?null:{whitespace:!0}}}},4738:(W,k,c)=>{c.d(k,{G:()=>_});var a=c(4438);let _=(()=>{class t{constructor(m){this.el=m,this.appLoading=!1}ngOnChanges(m){this.toggleLoadingState(!!m.appLoading?.currentValue)}toggleLoadingState(m){this.initFields(m),m?this.setLoadingState():this.resetLoadingState()}initFields(m){const w=this.el.nativeElement;void 0===this.origDisabled&&(this.origDisabled=w.disabled),void 0===this.origWidth&&(this.origWidth=w.style.width),m&&(this.origDisabled=w.disabled,this.origWidth=w.style.width,this.origHeight=w.style.height)}setLoadingState(){const m=this.el.nativeElement;this.origDisabled=m.disabled,m.style.height=`${this.el.nativeElement.offsetHeight}px`,m.style.width=`${this.el.nativeElement.offsetWidth}px`,m.disabled=!0,m.classList.add("app-loading")}resetLoadingState(){const m=this.el.nativeElement;m.style.width=this.origWidth,m.style.height=this.origHeight,m.classList.remove("app-loading"),m.disabled=this.origDisabled}static#t=this.\u0275fac=function(w){return new(w||t)(a.rXU(a.aKT))};static#e=this.\u0275dir=a.FsC({type:t,selectors:[["","appLoading",""]],inputs:{appLoading:"appLoading"},standalone:!0,features:[a.OA$]})}return t})()},6915:(W,k,c)=>{c.d(k,{T:()=>t});var a=c(4438);const _=["*"];let t=(()=>{class p{static#t=this.\u0275fac=function(O){return new(O||p)};static#e=this.\u0275cmp=a.VBU({type:p,selectors:[["app-auth-dios"]],standalone:!0,features:[a.aNF],ngContentSelectors:_,decls:7,vars:0,consts:[[1,"dios"],[1,"tm"]],template:function(O,l){1&O&&(a.NAR(),a.j41(0,"span"),a.EFF(1," Za\xeddra "),a.j41(2,"span",0),a.EFF(3,"DIOS"),a.k0s(),a.j41(4,"sup",1),a.EFF(5,"TM"),a.k0s(),a.SdG(6),a.k0s())},styles:[".dios[_ngcontent-%COMP%]{font-weight:600}.tm[_ngcontent-%COMP%]{font-size:.625rem}"]})}return p})()},3599:(W,k,c)=>{c.d(k,{S:()=>V});var a=c(4438),_=c(3719),t=c(3887),p=c(9042),m=c(177),w=c(9213),O=c(8834),l=c(9417),B=c(1780);const L=g=>({default:g});function T(g,E){if(1&g&&(a.j41(0,"mat-label"),a.EFF(1),a.k0s()),2&g){const x=a.XpG();a.R7$(),a.JRh(x.label)}}function j(g,E){if(1&g){const x=a.RV6();a.j41(0,"mat-icon",8),a.bIt("click",function(){a.eBV(x);const y=a.XpG();return a.Njj(y._suffixClick())}),a.EFF(1),a.k0s()}if(2&g){const x=a.XpG();a.R7$(),a.JRh(x.suffix)}}function v(g,E){if(1&g){const x=a.RV6();a.j41(0,"mat-icon",9),a.bIt("click",function(){a.eBV(x);const y=a.XpG();return a.Njj(y._prefClick())}),a.EFF(1),a.k0s()}if(2&g){const x=a.XpG();a.R7$(),a.JRh(x.prefix)}}function b(g,E){if(1&g){const x=a.RV6();a.j41(0,"button",10),a.bIt("click",function(){a.eBV(x);const y=a.XpG();return a.Njj(y.hide=!y.hide)}),a.j41(1,"mat-icon",11),a.EFF(2),a.k0s()()}if(2&g){const x=a.XpG();a.R7$(2),a.JRh(x.hide?"visibility_off":"visibility")}}function N(g,E){if(1&g&&(a.qex(0),a.EFF(1),a.bVm()),2&g){const x=a.XpG().$implicit,M=a.XpG();a.R7$(),a.SpI(" ",null==M.errors?null:M.errors[x.key+""]," ")}}function I(g,E){if(1&g&&(a.EFF(0),a.nI1(1,"translate")),2&g){const x=a.XpG().$implicit;a.SpI(" ",a.i5U(1,1,"validation."+x.key,a.eq3(4,L,x.value))," ")}}function $(g,E){if(1&g&&(a.j41(0,"mat-error"),a.DNE(1,N,2,1,"ng-container",12)(2,I,2,6,"ng-template",null,0,a.C5r),a.k0s()),2&g){const x=E.$implicit,M=a.sdS(3),y=a.XpG();a.R7$(),a.Y8G("ngIf",null==y.errors?null:y.errors[x.key+""])("ngIfElse",M)}}let V=(()=>{class g{constructor(){this.type="text",this.hideRequiredMarker=!0,this.appearance="fill",this.subscriptSizing="fixed",this.suffixClick=new a.bkB,this.prefixClick=new a.bkB,this.hide=!0}_suffixClick(){this.suffixClick.emit()}_prefClick(){this.prefixClick.emit()}static#t=this.\u0275fac=function(M){return new(M||g)};static#e=this.\u0275cmp=a.VBU({type:g,selectors:[["app-input"]],inputs:{name:"name",type:"type",control:"control",label:"label",placeholder:"placeholder",hideRequiredMarker:"hideRequiredMarker",appearance:"appearance",suffix:"suffix",prefix:"prefix",borderColor:"borderColor",height:"height",subscriptSizing:"subscriptSizing",errors:"errors"},outputs:{suffixClick:"suffixClick",prefixClick:"prefixClick"},standalone:!0,features:[a.aNF],decls:8,vars:23,consts:[["errorRef",""],[3,"subscriptSizing","appearance","hideRequiredMarker"],[4,"ngIf"],["matInput","",3,"name","formControl","type","placeholder"],["matSuffix","","color","primary","class","suffix-icon",3,"click",4,"ngIf"],["matPrefix","","color","primary","class","prefix-icon",3,"click",4,"ngIf"],["type","button","mat-icon-button","","matSuffix","",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],["matSuffix","","color","primary",1,"suffix-icon",3,"click"],["matPrefix","","color","primary",1,"prefix-icon",3,"click"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["color","primary"],[4,"ngIf","ngIfElse"]],template:function(M,y){1&M&&(a.j41(0,"mat-form-field",1),a.DNE(1,T,2,1,"mat-label",2),a.nrm(2,"input",3),a.DNE(3,j,2,1,"mat-icon",4)(4,v,2,1,"mat-icon",5)(5,b,3,1,"button",6)(6,$,4,2,"mat-error",7),a.nI1(7,"keyvalue"),a.k0s()),2&M&&(a.ZvI("flex-grow-1 w-100 ",y.borderColor,""),a.xc7("--app-input-height",y.height),a.AVh("bordered",y.borderColor)("heighted",y.height),a.Y8G("subscriptSizing",y.subscriptSizing)("appearance",y.appearance)("hideRequiredMarker",y.hideRequiredMarker),a.R7$(),a.Y8G("ngIf",y.label),a.R7$(),a.Y8G("name",y.name)("formControl",y.control)("type",y.hide?y.type:"text")("placeholder",y.placeholder),a.R7$(),a.Y8G("ngIf",y.suffix),a.R7$(),a.Y8G("ngIf",y.prefix),a.R7$(),a.Y8G("ngIf","password"===y.type),a.R7$(),a.Y8G("ngForOf",a.bMT(7,21,y.control.errors)))},dependencies:[t.G,m.Sq,m.bT,w.An,O.iY,l.me,l.BC,l.l_,m.lG,B.D9,_.rl,_.nJ,p.fg,_.TL,_.yw,_.JW],styles:["[_nghost-%COMP%]     input::-ms-reveal{display:none}[_nghost-%COMP%]     input[matinput]::-webkit-outer-spin-button, [_nghost-%COMP%]     input[matinput]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}[_nghost-%COMP%]     input[matinput][type=number]{-moz-appearance:textfield}[_nghost-%COMP%]     .primary{--border-color: var(--primary-color) }[_nghost-%COMP%]     .accent{--border-color: var(--accent-color) }[_nghost-%COMP%]     .bordered .mat-form-field-outline-start, [_nghost-%COMP%]     .bordered .mat-form-field-outline-end{border:1px solid var(--border-color)}[_nghost-%COMP%]     .bordered .mat-form-field-outline-end{border-left-style:none}[_nghost-%COMP%]     .bordered .mat-form-field-outline-start{border-right-style:none}[_nghost-%COMP%]     .heighted .mat-mdc-form-text-infix{border-top:0}[_nghost-%COMP%]     .heighted .mat-mdc-text-field-wrapper{padding-bottom:0}[_nghost-%COMP%]     .heighted.mat-form-field-appearance-outline .mat-form-field-outline{top:0}[_nghost-%COMP%]     .heighted.mat-form-field-appearance-outline .mat-mdc-form-field-text-prefix, [_nghost-%COMP%]     .heighted.mat-form-field-appearance-outline .mat-mdc-form-field-text-suffix{top:inherit;align-self:center}[_nghost-%COMP%]     .heighted .mat-mdc-form-text-infix{padding:0}[_nghost-%COMP%]     .heighted .mat-mdc-form-text-infix input{height:var(--app-input-height);text-align:center}"]})}return g})()},8855:(W,k,c)=>{c.d(k,{M:()=>L});var a=c(3887),_=c(5312),t=c(8834),p=c(4438),m=c(9879),w=c(4710),O=c(9417),l=c(1780);const B=["form"];let L=(()=>{class T{constructor(v,b){this.localStorageService=v,this.route=b,this.baseUrl=`${_.c.apiUrl}/services/auth/oauth2/authorization`}initiateLogin(v){this.saveRedirectUrl();const b=`${this.baseUrl}/${v}?eServiceName=${window.location.origin}`;this.form.nativeElement.action=b,this.form?.nativeElement.submit()}saveRedirectUrl(){let v=this.route.snapshot.queryParams.ref??"/";"/cart"===window.location.pathname&&(v="/checkout"),this.localStorageService.redirectUrl=v}static#t=this.\u0275fac=function(b){return new(b||T)(p.rXU(m.s),p.rXU(w.nX))};static#e=this.\u0275cmp=p.VBU({type:T,selectors:[["app-sso-login"]],viewQuery:function(b,N){if(1&b&&p.GBs(B,5),2&b){let I;p.mGM(I=p.lsd())&&(N.form=I.first)}},standalone:!0,features:[p.aNF],decls:19,vars:9,consts:[["form",""],[1,"d-flex","heading"],[1,"flex-grow-1","mt-1"],[1,"d-flex","justify-content-center","align-items-start"],[1,"d-flex","flex-column","align-items-center","button-wrapper"],["mat-raised-button","",1,"mt-2u","mat-mdc-elevation-specific","shadow-none","social-login-btn",3,"click"],["src","assets/icons/google-icon.png",1,"me-3"],["src","assets/icons/facebook-icon.png",1,"me-3"],["action","","method","post",2,"display","none"]],template:function(b,N){if(1&b){const I=p.RV6();p.j41(0,"div",1),p.nrm(1,"span",2),p.j41(2,"span",3),p.EFF(3),p.nI1(4,"translate"),p.k0s(),p.nrm(5,"span",2),p.k0s(),p.j41(6,"div",4)(7,"button",5),p.bIt("click",function(){return p.eBV(I),p.Njj(N.initiateLogin("google"))}),p.nrm(8,"img",6),p.j41(9,"span"),p.EFF(10),p.nI1(11,"translate"),p.k0s()(),p.j41(12,"button",5),p.bIt("click",function(){return p.eBV(I),p.Njj(N.initiateLogin("facebook"))}),p.nrm(13,"img",7),p.j41(14,"span"),p.EFF(15),p.nI1(16,"translate"),p.k0s()()(),p.nrm(17,"form",8,0)}2&b&&(p.R7$(3),p.JRh(p.bMT(4,3,"or")),p.R7$(7),p.JRh(p.bMT(11,5,"google_sing_in")),p.R7$(5),p.JRh(p.bMT(16,7,"fb_sign_in")))},dependencies:[a.G,O.qT,O.cb,l.D9,t.$z],styles:[".heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child, .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){border-top-width:1px;border-top-style:solid;border-top-color:#8d9bb2}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#8d9bb2;width:46px;line-height:10px}.button-wrapper[_ngcontent-%COMP%]{margin-top:24px}.button-wrapper[_ngcontent-%COMP%]   .social-login-btn[_ngcontent-%COMP%]{height:47px;border-radius:4px;border:1px solid #E1E1E1;color:var(--secondary-color);background:#fff;font-size:16px;width:100%;max-width:340px}.button-wrapper[_ngcontent-%COMP%]   .social-login-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:164px;text-align:start}"]})}return T})()}}]);