"use strict";(self.webpackChunkeshop=self.webpackChunkeshop||[]).push([["default-src_app_checkout_services_sameday-integration_service_ts-src_app_core_enums_language_-9821c2","src_app_core_services_auth-user_service_ts"],{5899:(T,f,i)=>{i.d(f,{Y:()=>U});var t=i(4438),c=i(4412),l=i(4572),v=i(9974);const{isArray:u}=Array;function g(p){return 1===p.length&&u(p[0])?p[0]:p}var h=i(6450),r=i(1203),m=i(9326);function E(...p){const I=(0,m.ms)(p);return I?(0,r.F)(E(...p),(0,h.I)(I)):(0,v.N)((L,k)=>{(0,l.P)([L,...g(p)])(k)})}function S(...p){return E(...p)}var y=i(3726),A=i(6344),M=i(8720);let U=(()=>{class p{constructor(){this.api=(0,t.WQX)(A.G),this.loading$=new c.t(!1)}openPopup(){return this.selectedLocker$?.unsubscribe(),this.selectedLocker$=new c.t(void 0),this.lockerPlugin?this._openPopup():this.injectAndOpenPopup(),this.selectedLocker$}injectAndOpenPopup(){const L=document.createElement("script");L.setAttribute("src","https://cdn.sameday.ro/locker-plugin/lockerpluginsdk.js"),L.setAttribute("type","text/javascript"),document.body.appendChild(L),this.loading$.next(!0),this.subscription=this.api.get("store/setting/sameday/active",M.w.del).pipe(S((0,y.R)(L,"load"))).subscribe(([k])=>{this.lockerPlugin=window.LockerPlugin,this.lockerPlugin.init({clientId:k?.clientId,countryCode:"RO",langCode:"ro",apiUsername:k?.username}),this.lockerPlugin.getInstance().subscribe(F=>{F.countryCode="ro",F.country="Romania",this.selectedLocker$?.next(F),this._closePopup()}),this.loading$.next(!1),this._openPopup()})}_openPopup(){this.lockerPlugin.getInstance().open(),this.subscription?.unsubscribe()}_closePopup(){this.lockerPlugin.getInstance().close()}static#t=this.\u0275fac=function(k){return new(k||p)};static#e=this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1548:(T,f,i)=>{i.d(f,{T:()=>t});var t=function(c){return c.En="en",c.Ro="ro",c}(t||{})},4978:(T,f,i)=>{i.d(f,{q:()=>v});var t=i(4438),c=i(4710),l=i(9879);let v=(()=>{class u{constructor(h,r,m){this.router=h,this.route=r,this.ls=m}canActivate(h,r){return!!this.ls.token||(this.router.navigate(["/auth/login"],{queryParams:{ref:r.url}}),!1)}static#t=this.\u0275fac=function(r){return new(r||u)(t.KVO(c.Ix),t.KVO(c.nX),t.KVO(l.s))};static#e=this.\u0275prov=t.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},5504:(T,f,i)=>{i.d(f,{pH:()=>l,yk:()=>g});var t=i(7056),c=i(9222);class l{constructor(r){this.id=r.id,this.endUser=r.endUser,this.currency=r.currency,this.orderRef=r.orderRef,this.totalWithVat=r.totalWithVat,this.totalProductsWithVat=r.totalProductsWithVat,this.totalDeliveryWithVat=r.totalDeliveryWithVat,this.deliveryShippingId=r.deliveryShippingId,this.deliveryShippingName=r.deliveryShippingName,this.orderDate=r.orderDate,this.currency=r.currency,this.paymentType=r.paymentType,this.paymentStatus=r.paymentStatus,this.orderStatus=r.orderStatus,this.products=r.products,this.buyerAddress=r.buyerAddress,this.deliveryAddress=t.pV.adapt(r.deliveryAddress),this.deliveryPickUpStore=r.deliveryPickUpStore,this.invoices=r.invoices,this.hasWarranty=r.hasWarranty,this.digital=r.digital}static fromDto(r){return new l({...r,buyerAddress:t.pV.adapt(r.buyerAddress),deliveryAddress:t.pV.adapt(r.deliveryAddress),deliveryPickUpStore:r.deliveryPickUpStore?t.pV.adapt(r.deliveryPickUpStore):void 0,products:r.products.map(m=>c.m.fromCartDto(v(m))),invoices:r.invoices?.map(m=>({uuid:m.uuid,fileName:m.fileName})),digital:!r.products.find(m=>m.physicalProduct)})}}const v=h=>({id:h.id,productId:h.productId,name:h.name,randomProductId:h.randomProductId,quantity:h.quantity,slug:"",seo:{metaUrl:""},priceWithoutDiscountWithVat:h.priceWithoutDiscountWithVat,priceWithVat:h.priceWithVat,priceWithoutVat:h.priceWithVat,discountRate:h.discountRate,currency:"RON",stock:0,images:[{url:h.imageUrl,id:0}],description:"",productFullReview:h.productFullReview,primaryCategory:{id:0,name:"",friendlyUrl:"",displayMenu:"",randomCategoryId:"",imageUrl:""}});var g=function(h){return h.UNCLAIMED="UNCLAIMED",h.TAKEN="TAKEN",h.READY_FOR_DELIVERY="READY_FOR_DELIVERY",h.ORDER_FROM_SUPLIER="ORDER_FROM_SUPLIER",h.SHIPPED="SHIPPED",h.DELIVERED="DELIVERED",h.RETURNED="RETURNED",h.PARTIAL_RETURNED="PARTIAL_RETURNED",h.CANCELLED="CANCELLED",h.REFUSED_DELIVERY="REFUSED_DELIVERY",h.FAILED_DELIVERY="FAILED_DELIVERY",h.PARTIAL_SHIPPED="PARTIAL_SHIPPED",h}(g||{})},7282:(T,f,i)=>{i.d(f,{m:()=>t});class t{constructor(l,v){this.content=l,this.totalElements=v}}},7938:(T,f,i)=>{i.r(f),i.d(f,{AuthUserService:()=>A});var t=i(4412),c=i(983),l=i(980),v=i(8141),u=i(8720),g=i(2255),h=i(1626),r=i(4438),m=i(6344),E=i(9879),S=i(6042),y=i(9636);let A=(()=>{class M{constructor(p,I,L,k){this.api=p,this.localStorage=I,this.cartService=L,this.favoriteService=k,this.userSource=new t.t(void 0),this.pendingRequests={authUser:!1},this.authUser=this.userSource.asObservable()}fetchAuthUser(){if(!this.localStorage.token)return this.userSource.next(null),c.w;this.pendingRequests.authUser=!0;const p={context:(new h._y).set(g.Kq,!1).set(g.RD,!1)};return this.api.get("account",u.w.usr,p).pipe((0,l.j)(()=>this.pendingRequests.authUser=!1)).pipe((0,v.M)(I=>this.userSource.next(I)))}getAuthUser(){return void 0===this.userSource.value&&!this.pendingRequests.authUser&&this.fetchAuthUser().subscribe(),this.authUser}logoutAuthUser(){this.localStorage.token=null,typeof document<"u"&&(document.cookie="AUTH_TOKEN="),this.userSource.next(null),this.cartService.fetchCart()}setAuthToken(p){return this.localStorage.token=p,document.cookie=`AUTH_TOKEN=${p}`,this.cartService.fetchCart(),this.favoriteService.saveAllFavorites(),this.fetchAuthUser()}static#t=this.\u0275fac=function(I){return new(I||M)(r.KVO(m.G),r.KVO(E.s),r.KVO(S.m),r.KVO(y.U))};static#e=this.\u0275prov=r.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},8003:(T,f,i)=>{i.d(f,{f:()=>w});var t=i(1626),c=i(1985),l=i(1413),v=i(9974),u=i(4360);var r=i(7048),m=i(1986),E=i(8141);const S={keepAlive:!0,reconnectionDelay:3e3,responseType:"event"},y={observe:"events",reportProgress:!0,responseType:"text"};var A=i(4438);let M=(()=>{class b{static#t=this.SEPARATOR=":";constructor(o){this.httpClient=o,this.progress=0,this.chunk=""}stream(o,s,d,O="GET"){return this.sseOptions=Object.assign({},S,s),this.httpClientOptions=Object.assign({},d,y),new c.c(C=>{const R=this.subscribeStreamRequest(o,this.sseOptions,this.httpClientOptions,O,C);return()=>R.unsubscribe()})}subscribeStreamRequest(o,s,d,O,C){return this.httpClient.request(O,o,d).pipe(function g(b){return(0,v.N)((K,o)=>{let s,O,d=!1,C=!1,R=!1;const V=()=>R&&C&&(o.complete(),!0),B=()=>{R=!1,s=K.subscribe((0,u._)(o,void 0,()=>{R=!0,!V()&&(O||(O=new l.B,b(O).subscribe((0,u._)(o,()=>{s?B():d=!0},()=>{C=!0,V()}))),O).next()})),d&&(s.unsubscribe(),s=null,d=!1,B())};B()})}(R=>this.repeatWhen(R,s.keepAlive,s.reconnectionDelay))).pipe(function h(b){return(0,v.N)((K,o)=>{let s,O,d=!1;const C=()=>{s=K.subscribe((0,u._)(o,void 0,void 0,R=>{O||(O=new l.B,b(O).subscribe((0,u._)(o,()=>s?C():d=!0))),O&&O.next(R)})),d&&(s.unsubscribe(),s=null,d=!1,C())};C()})}(R=>this.retryWhen(R,s.keepAlive,s.reconnectionDelay,C))).subscribe(R=>this.parseStreamEvent(R,C))}repeatWhen(o,s,d){return o.pipe((0,r.v)(()=>s)).pipe((0,m.c)(d))}retryWhen(o,s,d,O){return o.pipe((0,E.M)(C=>this.threatRequestError(C,O))).pipe((0,r.v)(()=>s)).pipe((0,m.c)(d))}threatRequestError(o,s){this.dispatchStreamData(this.errorEvent(o),s),this.isValidStatus(o.status)||s.error(o)}isValidStatus(o){return null!=o&&o<=299}parseStreamEvent(o,s){o.type!==t.hv.Sent?o.type!==t.hv.DownloadProgress?o.type!==t.hv.Response||this.onStreamCompleted(o,s):this.onStreamProgress(o.partialText,s):this.progress=0}onStreamProgress(o,s){o=o.substring(this.progress),this.progress+=o.length,o.split(/(\r\n|\r|\n){2}/g).forEach(d=>this.parseEventData(d,s))}onStreamCompleted(o,s){this.onStreamProgress(o.body,s),this.dispatchStreamData(this.parseEventChunk(this.chunk),s),this.chunk="",this.progress=0,this.dispatchStreamData(this.errorEvent(),s)}parseEventData(o,s){0===o.trim().length?(this.dispatchStreamData(this.parseEventChunk(this.chunk),s),this.chunk=""):this.chunk+=o}parseEventChunk(o){if(!o||0===o.length)return;const s={id:void 0,data:"",event:"message"};return o.split(/\n|\r\n|\r/).forEach(d=>this.parseChunkLine(d.trim(),s)),this.messageEvent(s.event,{lastEventId:s.id,data:s.data})}parseChunkLine(o,s){const d=o.indexOf(b.SEPARATOR);if(d<=0)return;const O=o.substring(0,d);if(-1===Object.keys(s).findIndex(R=>R===O))return;let C=o.substring(d+1);"data"===O&&(C=s.data+C),s[O]=C}dispatchStreamData(o,s){this.validEvent(o)&&s.next("event"===this.sseOptions.responseType?o:o.data)}validEvent(o){return!(!o||"error"===o.type&&"event"!==this.sseOptions.responseType||"error"!==o.type&&(!o.data||!o.data.length))}messageEvent(o,s){return new MessageEvent(o,s)}errorEvent(o){let s;return o&&o.status>0&&(s={error:o,message:o.message},this.isValidStatus(o.status)||(s.status=o.status,s.statusText=o.statusText)),new ErrorEvent("error",s)}static#e=this.\u0275fac=function(s){return new(s||b)(A.KVO(t.Qq))};static#i=this.\u0275prov=A.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})();var U=i(5558),p=i(5964),I=i(7673),L=i(8810),k=i(2255),F=i(6344),W=i(9879);let w=(()=>{class b{constructor(o,s,d){this.apiService=s,this.ls=d,this.sseClient=new M(o)}stream(o,s,d,O,C="POST"){return o=this.apiService.buildEP(o,s),d={...d,context:(new t._y).set(k.VI,d?.guestRoute??!0).set(k.Kq,!1)},(d=this.apiService.addServiceTokenToHeader(d))&&!d.guestRoute&&this.ls.token&&(d.headers={...d.headers,Authorization:`Bearer ${this.ls.token}`}),void 0===O?.keepAlive&&(O={...O,keepAlive:!1}),this.sseClient.stream(o,O,d,C).pipe((0,U.n)(R=>this.formatEvent(R)),(0,p.p)(R=>!1!==R))}formatEvent(o){if(o instanceof MessageEvent){const d=o;return console.log(d.data),(0,I.of)(this.jsonParseEvent(d))}const s=o.error;return s?("string"==typeof s.error&&(s.error=JSON.parse(s.error)),(0,L.$)(o.error)):(0,I.of)(!1)}jsonParseEvent(o){let s=o.data.trim();return"{"!==s.at(0)&&(s=`{${s}`),"}"!==s.at(s.length-1)&&(s=`${s}}`),JSON.parse(s)}static#t=this.\u0275fac=function(s){return new(s||b)(A.KVO(t.Qq),A.KVO(F.G),A.KVO(W.s))};static#e=this.\u0275prov=A.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})()},3026:(T,f,i)=>{i.d(f,{Gb:()=>t,Hz:()=>l,gr:()=>c});var t=function(u){return u.Code="CODE",u.Password="PASSWORD",u}(t||{}),c=function(u){return u.Exception="TX_EXCEPTION_STATE",u.Final="TX_FINAL_STATE",u.Miximal="TX_MAXIMAL_STATE",u.PaymentPending="TX_WAITING_FOR_USER_PAYMENT",u}(c||{}),l=function(u){return u.Declined="PAYMENT_DECLINED",u}(l||{})},7922:(T,f,i)=>{i.d(f,{w:()=>m});var t=i(177),c=i(800),l=i(4438);const v=()=>[],u=(E,S)=>[E,S];function g(E,S){1&E&&l.eu8(0)}function h(E,S){if(1&E&&(l.j41(0,"div",3)(1,"div",4),l.DNE(2,g,1,0,"ng-container",5),l.k0s()()),2&E){const y=l.XpG(),A=l.sdS(4);l.HbH(l.l_i(3,u,y.count>1?"col-sm-6":"s",y.count>2?"col-md-4":"s")),l.R7$(2),l.Y8G("ngTemplateOutlet",A)}}function r(E,S){if(1&E&&(l.nrm(0,"app-skeleton-loader",6)(1,"app-skeleton-loader",6),l.j41(2,"div",7),l.nrm(3,"app-skeleton-loader",8)(4,"app-skeleton-loader",8)(5,"app-skeleton-loader",8),l.k0s()),2&E){const y=l.XpG();l.xc7("height",y.height1),l.R7$(),l.xc7("height",y.height2),l.R7$(2),l.xc7("height",y.height3)("width",y.width3),l.R7$(),l.xc7("height",y.height3)("width",y.width3),l.R7$(),l.xc7("height",y.height3)("width",y.width3)}}let m=(()=>{class E{constructor(){this.count=3,this.height1="80px",this.height2="10px",this.height3="30px",this.width3="30px",this.wrap=!0}static#t=this.\u0275fac=function(A){return new(A||E)};static#e=this.\u0275cmp=l.VBU({type:E,selectors:[["app-skeleton-loader-grid"]],inputs:{count:"count",height1:"height1",height2:"height2",height3:"height3",width3:"width3",wrap:"wrap"},standalone:!0,features:[l.aNF],decls:5,vars:4,consts:[["skeletonLoader",""],[1,"d-flex","justify-content-between","overflow-hidden"],["class","p-sm-3 mb-3 mb-sm-0 col-12","style","min-width: 200px",3,"class",4,"ngFor","ngForOf"],[1,"p-sm-3","mb-3","mb-sm-0","col-12",2,"min-width","200px"],[1,"shadow","p-3","border","border-1","rounded-3"],[4,"ngTemplateOutlet"],[1,"mb-1"],[1,"d-flex"],[1,"m-1"]],template:function(A,M){1&A&&(l.j41(0,"div")(1,"div",1),l.DNE(2,h,3,6,"div",2),l.k0s()(),l.DNE(3,r,6,16,"ng-template",null,0,l.C5r)),2&A&&(l.R7$(),l.AVh("flex-wrap",M.wrap),l.R7$(),l.Y8G("ngForOf",l.lJ4(3,v).constructor(M.count)))},dependencies:[t.Sq,t.T3,c.W]})}return E})()},800:(T,f,i)=>{i.d(f,{W:()=>c});var t=i(4438);let c=(()=>{class l{static#t=this.\u0275fac=function(g){return new(g||l)};static#e=this.\u0275cmp=t.VBU({type:l,selectors:[["app-skeleton-loader"]],standalone:!0,features:[t.aNF],decls:1,vars:0,consts:[[1,"skeleton-loader","skeleton-animated"]],template:function(g,h){1&g&&t.nrm(0,"span",0)},styles:[".skeleton-loader[_ngcontent-%COMP%]{background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:inherit;display:inline-block}.background-masker[_ngcontent-%COMP%]{background-color:#fff;position:absolute}.btn-divide-left[_ngcontent-%COMP%]{top:0;left:25%;height:100%;width:5%}@keyframes _ngcontent-%COMP%_placeHolderShimmer{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}.skeleton-animated3[_ngcontent-%COMP%]{background:linear-gradient(-45deg,#ee7752,#e73c7e,#23a6d5,#23d5ab);background-size:400% 400%;animation:_ngcontent-%COMP%_placeHolderShimmer 15s ease infinite}.skeleton-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_placeHolderShimmer 2s ease infinite;background-color:#f6f7f8;background:linear-gradient(to right,#eee 8%,#bbb 18%,#eee 33%);background-size:800px 104px;position:relative}.skeleton-static[_ngcontent-%COMP%]{background-color:#f6f7f8}.skeleton-rounded[_ngcontent-%COMP%]{border-radius:5px}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.shared-dom[_ngcontent-%COMP%]{height:50px}.sub-rect[_ngcontent-%COMP%]{border-radius:20%;width:32px;height:32px;float:left}.pure-background[_ngcontent-%COMP%]{background-color:#eee}.css-dom[_ngcontent-%COMP%]:empty{width:280px;height:220px;border-radius:6px;box-shadow:0 10px 45px #0003;background-repeat:no-repeat;background-image:radial-gradient(circle 16px,lightgray 99%,transparent 0),linear-gradient(#d3d3d3,#d3d3d3),linear-gradient(#d3d3d3,#d3d3d3),linear-gradient(#d3d3d3,#d3d3d3),linear-gradient(#d3d3d3,#d3d3d3),linear-gradient(#fff,#fff);background-size:32px 32px,200px 32px,180px 32px,230px 16px,100% 40px,280px 100%;background-position:24px 30px,66px 30px,24px 90px,24px 142px,0 180px,0 0}"]})}return l})()},1439:(T,f,i)=>{i.d(f,{F:()=>v});var t=i(177),c=i(4438);function l(u,g){if(1&u&&(c.j41(0,"sup"),c.EFF(1),c.k0s()),2&u){const h=c.XpG();c.HbH(h.lineThrough?"":"text-decoration-underline"),c.R7$(),c.SpI(" ",h._amount.fractional," ")}}let v=(()=>{class u{constructor(){this.lineThrough=!1,this._amount={whole:"",fractional:""}}set amount(h){[this._amount.whole,this._amount.fractional]=String(h).split("."),this._amount.fractional=this._amount.fractional?.substring(0,3)}getCurrencySymbol(h){return(0,t.Qn)(h,"narrow")}static#t=this.\u0275fac=function(r){return new(r||u)};static#e=this.\u0275cmp=c.VBU({type:u,selectors:[["app-price"]],inputs:{lineThrough:"lineThrough",currency:"currency",amount:"amount"},standalone:!0,features:[c.aNF],decls:6,vars:5,consts:[[3,"class",4,"ngIf"]],template:function(r,m){1&r&&(c.j41(0,"span")(1,"span"),c.EFF(2),c.k0s(),c.DNE(3,l,2,3,"sup",0),c.k0s(),c.j41(4,"span"),c.EFF(5),c.k0s()),2&r&&(c.HbH(m.lineThrough?"text-decoration-line-through":""),c.R7$(2),c.JRh(m._amount.whole),c.R7$(),c.Y8G("ngIf",m._amount.fractional),c.R7$(2),c.SpI("\xa0",m.getCurrencySymbol(m.currency||"RON"),""))},dependencies:[t.MD,t.bT]})}return u})()},3240:(T,f,i)=>{i.d(f,{G:()=>l});var t=i(4438),c=i(177);let l=(()=>{class v{constructor(g,h,r){this.viewContainer=g,this.templateRef=h,this.platformId=r}ngOnInit(){(0,c.Vy)(this.platformId)?this.viewContainer.clear():this.viewContainer.createEmbeddedView(this.templateRef)}static#t=this.\u0275fac=function(h){return new(h||v)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t.Agw))};static#e=this.\u0275dir=t.FsC({type:v,selectors:[["","appShellNoRender",""]],standalone:!0})}return v})()},1986:(T,f,i)=>{i.d(f,{c:()=>y});var t=i(3236),c=i(8793),l=i(6697),v=i(9974),u=i(4360),g=i(5343),r=i(3703),m=i(1397);function E(A,M){return M?U=>(0,c.x)(M.pipe((0,l.s)(1),function h(){return(0,v.N)((A,M)=>{A.subscribe((0,u._)(M,g.l))})}()),U.pipe(E(A))):(0,m.Z)((U,p)=>A(U,p).pipe((0,l.s)(1),(0,r.u)(U)))}var S=i(1584);function y(A,M=t.E){const U=(0,S.O)(A,M);return E(()=>U)}},850:(T,f,i)=>{i.d(f,{$3:()=>z,jL:()=>q,pN:()=>Y});var t=i(4438),c=i(6600),l=i(177),v=i(5542),u=i(7987),g=i(8617),h=i(6860),r=i(9969),m=i(8359),E=i(1413),S=i(9030),y=i(7786),A=i(7673),M=i(3726),U=i(1985),p=i(7336),I=i(6939),L=i(9417),k=i(3719),F=i(9172),W=i(5558),w=i(5964),b=i(6354),K=i(8141),o=i(1986),s=i(6697),d=i(8203);const O=["panel"],C=["*"];function R(D,N){if(1&D){const e=t.RV6();t.j41(0,"div",1,0),t.bIt("@panelAnimation.done",function(a){t.eBV(e);const _=t.XpG();return t.Njj(_._animationDone.next(a))}),t.SdG(2),t.k0s()}if(2&D){const e=N.id,n=t.XpG();t.HbH(n._classList),t.AVh("mat-mdc-autocomplete-visible",n.showPanel)("mat-mdc-autocomplete-hidden",!n.showPanel)("mat-primary","primary"===n._color)("mat-accent","accent"===n._color)("mat-warn","warn"===n._color),t.Y8G("id",n.id)("@panelAnimation",n.isOpen?"visible":"hidden"),t.BMQ("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(e))}}const V=(0,r.hZ)("panelAnimation",[(0,r.wk)("void, hidden",(0,r.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,r.kY)(":enter, hidden => visible",[(0,r.Os)([(0,r.i0)("0.03s linear",(0,r.iF)({opacity:1})),(0,r.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,r.iF)({transform:"scaleY(1)"}))])]),(0,r.kY)(":leave, visible => hidden",[(0,r.i0)("0.075s linear",(0,r.iF)({opacity:0}))])]);let j=0;class B{constructor(N,e){this.source=N,this.option=e}}const X=new t.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function $(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let z=(()=>{class D{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,n,a,_){this._changeDetectorRef=e,this._elementRef=n,this._defaults=a,this._activeOptionChanges=m.yU.EMPTY,this._animationDone=new t.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new t.bkB,this.opened=new t.bkB,this.closed=new t.bkB,this.optionActivated=new t.bkB,this.id="mat-autocomplete-"+j++,this.inertGroups=_?.SAFARI||!1,this.autoActiveFirstOption=!!a.autoActiveFirstOption,this.autoSelectActiveOption=!!a.autoSelectActiveOption,this.requireSelection=!!a.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new g.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const n=new B(this,e);this.optionSelected.emit(n)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_skipPredicate(){return!1}static#t=this.\u0275fac=function(n){return new(n||D)(t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(X),t.rXU(h.OD))};static#e=this.\u0275cmp=t.VBU({type:D,selectors:[["mat-autocomplete"]],contentQueries:function(n,a,_){if(1&n&&(t.wni(_,c.wT,5),t.wni(_,c.QC,5)),2&n){let P;t.mGM(P=t.lsd())&&(a.options=P),t.mGM(P=t.lsd())&&(a.optionGroups=P)}},viewQuery:function(n,a){if(1&n&&(t.GBs(t.C4Q,7),t.GBs(O,5)),2&n){let _;t.mGM(_=t.lsd())&&(a.template=_.first),t.mGM(_=t.lsd())&&(a.panel=_.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",t.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",t.L39],requireSelection:[2,"requireSelection","requireSelection",t.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",t.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",t.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[t.Jv_([{provide:c.is,useExisting:D}]),t.GFd,t.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(n,a){1&n&&(t.NAR(),t.DNE(0,R,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[V]},changeDetection:0})}return D})();const Q={provide:L.kq,useExisting:(0,t.Rfq)(()=>Y),multi:!0},G=new t.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const D=(0,t.WQX)(u.hJ);return()=>D.scrollStrategies.reposition()}}),Z={provide:G,deps:[u.hJ],useFactory:function J(D){return()=>D.scrollStrategies.reposition()}};let Y=(()=>{class D{constructor(e,n,a,_,P,H,tt,et,it,nt,ot){this._element=e,this._overlay=n,this._viewContainerRef=a,this._zone=_,this._changeDetectorRef=P,this._dir=tt,this._formField=et,this._document=it,this._viewportRuler=nt,this._defaults=ot,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=m.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new E.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new E.B,this._injector=(0,t.WQX)(t.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,S.v)(()=>{const x=this.autocomplete?this.autocomplete.options:null;return x?x.changes.pipe((0,F.Z)(x),(0,W.n)(()=>(0,y.h)(...x.map(st=>st.onSelectionChange)))):this._initialized.pipe((0,W.n)(()=>this.optionSelections))}),this._handlePanelKeydown=x=>{(x.keyCode===p._f&&!(0,p.rp)(x)||x.keyCode===p.i7&&(0,p.rp)(x,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),x.stopPropagation(),x.preventDefault())},this._trackedModal=null,this._scrollStrategy=H}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,g.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,y.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,w.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,w.p)(()=>this._overlayAttached)):(0,A.of)()).pipe((0,b.T)(e=>e instanceof c.MI?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,y.h)((0,M.R)(this._document,"click"),(0,M.R)(this._document,"auxclick"),(0,M.R)(this._document,"touchend")).pipe((0,w.p)(e=>{const n=(0,h.Fb)(e),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,_=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!a||!a.contains(n))&&(!_||!_.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const n=e.keyCode,a=(0,p.rp)(e);if(n===p._f&&!a&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&n===p.Fm&&this.panelOpen&&!a)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const _=this.autocomplete._keyManager.activeItem,P=n===p.i7||n===p.n6;n===p.wn||P&&!a&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):P&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(P||this.autocomplete._keyManager.activeItem!==_)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let n=e.target,a=n.value;if("number"===n.type&&(a=""==a?null:parseFloat(a)),this._previousValue!==a){if(this._previousValue=a,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(a),a){if(this.panelOpen&&!this.autocomplete.requireSelection){const _=this.autocomplete.options?.find(P=>P.selected);_&&a!==this._getDisplayValue(_.value)&&_.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===e.target){const _=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(_)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=new U.c(a=>{(0,t.mal)(()=>{a.next()},{injector:this._injector})}),n=this.autocomplete.options.changes.pipe((0,K.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,o.c)(0));return(0,y.h)(e,n).pipe((0,W.n)(()=>this._zone.run(()=>{const a=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),a!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,s.s)(1)).subscribe(a=>this._setValueAndClose(a))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){const n=this.autocomplete;return n&&n.displayWith?n.displayWith(e):e}_assignOptionValue(e){const n=this._getDisplayValue(e);null==e&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(n??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){const n=this.autocomplete,a=e?e.source:this._pendingAutoselectedOption;a?(this._clearPreviousSelectedOption(a),this._assignOptionValue(a.value),this._onChange(a.value),n._emitSelectEvent(a),this._element.nativeElement.focus()):n.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),n._animationDone?n._animationDone.pipe((0,s.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,n){this.autocomplete?.options?.forEach(a=>{a!==e&&a.selected&&a.deselect(n)})}_openPanelInternal(e=this._element.nativeElement.value){this._attachOverlay(e),this._floatLabel(),this._trackedModal&&(0,g.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(e){let n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new I.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&n&&n.updateSize({width:this._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const a=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&a!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new u.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],a=this._aboveClass,_=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:a},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:a}];let P;P="above"===this.position?_:"below"===this.position?n:[...n,..._],e.withPositions(P)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;if(e.autoActiveFirstOption){let n=-1;for(let a=0;a<e.options.length;a++)if(!e.options.get(a).disabled){n=a;break}e._keyManager.setActiveItem(n)}else e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const n=this.autocomplete,a=(0,c.jb)(e,n.options,n.optionGroups);if(0===e&&1===a)n._setScrollTop(0);else if(n.panel){const _=n.options.toArray()[e];if(_){const P=_._getHostElement(),H=(0,c.TL)(P.offsetTop,P.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(H)}}}_applyModalPanelOwnership(){const e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const n=this.autocomplete.id;this._trackedModal&&(0,g.Ae)(this._trackedModal,"aria-owns",n),(0,g.px)(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){this._trackedModal&&((0,g.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(n){return new(n||D)(t.rXU(t.aKT),t.rXU(u.hJ),t.rXU(t.c1b),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(G),t.rXU(d.dS,8),t.rXU(k.xb,9),t.rXU(l.qQ,8),t.rXU(v.Xj),t.rXU(X,8))};static#e=this.\u0275dir=t.FsC({type:D,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(n,a){1&n&&t.bIt("focusin",function(){return a._handleFocus()})("blur",function(){return a._onTouched()})("input",function(P){return a._handleInput(P)})("keydown",function(P){return a._handleKeydown(P)})("click",function(){return a._handleClick()}),2&n&&t.BMQ("autocomplete",a.autocompleteAttribute)("role",a.autocompleteDisabled?null:"combobox")("aria-autocomplete",a.autocompleteDisabled?null:"list")("aria-activedescendant",a.panelOpen&&a.activeOption?a.activeOption.id:null)("aria-expanded",a.autocompleteDisabled?null:a.panelOpen.toString())("aria-controls",a.autocompleteDisabled||!a.panelOpen||null==a.autocomplete?null:a.autocomplete.id)("aria-haspopup",a.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",t.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[t.Jv_([Q]),t.GFd,t.OA$]})}return D})(),q=(()=>{class D{static#t=this.\u0275fac=function(n){return new(n||D)};static#e=this.\u0275mod=t.$C({type:D});static#i=this.\u0275inj=t.G2t({providers:[Z],imports:[u.z_,c.Sy,c.yE,l.MD,v.Gj,c.Sy,c.yE]})}return D})()}}]);