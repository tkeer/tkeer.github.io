"use strict";(self.webpackChunkeshop=self.webpackChunkeshop||[]).push([["src_app_shared_components_sidenav-category-hierarchy_sidenav-category-hierarchy_component_ts"],{8641:(D,_,a)=>{a.r(_),a.d(_,{SidenavCategoryHierarchyComponent:()=>x});var p=a(8720),c=a(6977),l=a(8141),C=a(980),m=a(1482),y=a(9213),h=a(4710),g=a(177),f=a(9183),d=a(1780),t=a(4438),v=a(6344);function E(n,i){if(1&n){const e=t.RV6();t.j41(0,"mat-icon",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.fetchParentCategories(o.parentCategory))}),t.EFF(1," chevron_left "),t.k0s()}}function O(n,i){if(1&n&&(t.j41(0,"div",5),t.DNE(1,E,2,0,"mat-icon",6),t.j41(2,"span",7),t.EFF(3),t.k0s()()),2&n){const e=t.XpG(),r=t.sdS(7);t.R7$(),t.Y8G("ngIf",e.loading.category!==e.parentCategory.randomCategoryId)("ngIfElse",r),t.R7$(),t.Y8G("routerLink","/"+e.parentCategory.friendlyUrl+"/"+e.parentCategory.randomCategoryId),t.R7$(),t.JRh(e.parentCategory.name)}}function I(n,i){if(1&n){const e=t.RV6();t.j41(0,"mat-icon",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2).$implicit,s=t.XpG();return t.Njj(s.fetchChildCategories(o))}),t.EFF(1," chevron_right "),t.k0s()}}function M(n,i){if(1&n&&(t.qex(0),t.DNE(1,I,2,0,"mat-icon",6),t.bVm()),2&n){const e=t.XpG().$implicit,r=t.XpG(),o=t.sdS(7);t.R7$(),t.Y8G("ngIf",r.loading.category!==e.randomCategoryId)("ngIfElse",o)}}function P(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",9)(1,"span",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(null==o.sidenav?null:o.sidenav.close())}),t.EFF(2),t.k0s(),t.DNE(3,M,2,2,"ng-container",11),t.k0s()}if(2&n){const e=i.$implicit;t.R7$(),t.Y8G("routerLink","/"+e.friendlyUrl+"/"+e.randomCategoryId),t.R7$(),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngIf",e.hasChildren)}}function u(n,i){1&n&&t.nrm(0,"mat-spinner",12)}let x=(()=>{class n extends m.e{constructor(e){super(),this.api=e,this.categories=[],this.categoriesHierarchy={},this.loading={category:""}}ngOnInit(){this.fetchChildCategories()}fetchChildCategories(e){e?.randomCategoryId&&(this.loading.category=e?.randomCategoryId),this.fetchCategories(e).pipe((0,c.Q)(this.destroy$)).subscribe(()=>{e?.randomCategoryId&&(this.categoriesHierarchy[e.randomCategoryId]=this.parentCategory),this.parentCategory=e})}fetchParentCategories(e){const r=this.categoriesHierarchy[e.randomCategoryId]??void 0;e?.randomCategoryId&&(this.loading.category=e?.randomCategoryId),this.fetchCategories(r).pipe((0,c.Q)(this.destroy$)).subscribe(()=>{this.parentCategory=r})}fetchCategories(e){let r="onlyChildrenSubtree=false&limitLeafNo=10";return e?.randomCategoryId&&(r+=`&randomCategoryId=${e.randomCategoryId}`),this.api.get(`filter/categories?${r}`,p.w.inv,{cacheKey:`sidenav-categories-${e?.randomCategoryId}`}).pipe((0,c.Q)(this.destroy$),(0,l.M)(s=>this.categories=s?.filters?.categories),(0,C.j)(()=>this.loading.category=""))}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(v.G))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-sidenav-category-hierarchy"]],inputs:{sidenav:"sidenav"},standalone:!0,features:[t.Vt3,t.aNF],decls:8,vars:5,consts:[["loadingRef",""],[1,"categories-wrapper"],[1,"d-inline-block","category-label"],["class","category parent",4,"ngIf"],["class","category",4,"ngFor","ngForOf"],[1,"category","parent"],["color","primary",3,"click",4,"ngIf","ngIfElse"],[1,"flex-grow-1",3,"routerLink"],["color","primary",3,"click"],[1,"category"],[1,"flex-grow-1",3,"click","routerLink"],[4,"ngIf"],["diameter","16"]],template:function(r,o){1&r&&(t.j41(0,"div",1)(1,"span",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,O,4,4,"div",3)(5,P,4,3,"div",4),t.k0s(),t.DNE(6,u,1,0,"ng-template",null,0,t.C5r)),2&r&&(t.R7$(2),t.JRh(t.bMT(3,3,"categories")),t.R7$(2),t.Y8G("ngIf",o.parentCategory),t.R7$(),t.Y8G("ngForOf",o.categories))},dependencies:[y.An,h.Wk,g.bT,f.LG,g.Sq,d.h,d.D9],styles:[".categories-wrapper[_ngcontent-%COMP%]{margin-right:-10px;margin-left:-11px}.categories-wrapper[_ngcontent-%COMP%]   .category-label[_ngcontent-%COMP%]{width:100%;padding-left:24px;padding-bottom:42px;border-bottom:solid 1px #F2F2F2;font-size:20px;font-weight:700}.categories-wrapper[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:20px;font-weight:500;color:#262626;border-bottom:solid 1px #F2F2F2;padding:17px 24px 13px}.categories-wrapper[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:225px;padding-right:12px}.categories-wrapper[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:24px}.categories-wrapper[_ngcontent-%COMP%]   .category.parent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:0;padding-left:12px}.categories-wrapper[_ngcontent-%COMP%]   .category.parent[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:-8px}"]})}return n})()}}]);